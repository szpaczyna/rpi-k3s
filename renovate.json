{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "extends": ["config:base"],

  "enabledManagers": ["helm-values"],
  "helm-values": {
    "fileMatch": [
      "(^|/)values\\.yaml$",
      "(^|/)values-public\\.yaml$"
    ]
  },

  "ignorePaths": [
    "cluster/secrets/**",
    "**/*.enc",
    "**/*.enc.*",
    "**/*.md.*",
    "cluster/helm/postgresql/**"
  ],

  "packageRules": [
    {
      "matchManagers": ["helm-values"],
      "matchDatasources": ["docker"],
      "automerge": false,
      "separateMajorMinor": true,
      "separateMultipleMajor": true
    }
  ],

  "automerge": false,
  "prConcurrentLimit": 1
}