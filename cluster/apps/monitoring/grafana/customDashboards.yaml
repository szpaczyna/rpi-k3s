---
apiVersion: v1
kind: ConfigMapList
items:
- apiVersion: v1
  kind: ConfigMap
  metadata:
    name: grafana-hosts-overview
    namespace: monitoring
  data:
    hosts-overview.json: |-
      {
        "annotations": {
          "list": [
            {
              "builtIn": 1,
              "datasource": "-- Grafana --",
              "enable": true,
              "hide": true,
              "iconColor": "rgba(0, 211, 255, 1)",
              "name": "Annotations & Alerts",
              "type": "dashboard"
            }
          ]
        },
        "editable": true,
        "gnetId": 6287,
        "graphTooltip": 0,
        "id": 31,
        "iteration": 1606655943197,
        "links": [],
        "panels": [
          {
            "cacheTimeout": null,
            "colorBackground": false,
            "colorValue": true,
            "colors": [
              "rgba(50, 172, 45, 0.97)",
              "rgba(237, 129, 40, 0.89)",
              "rgba(245, 54, 54, 0.9)"
            ],
            "datasource": "prometheus",
            "decimals": null,
            "description": "Busy state of all CPU cores together",
            "fieldConfig": {
              "defaults": {
                "custom": {}
              },
              "overrides": []
            },
            "format": "percent",
            "gauge": {
              "maxValue": 100,
              "minValue": 0,
              "show": true,
              "thresholdLabels": false,
              "thresholdMarkers": true
            },
            "gridPos": {
              "h": 4,
              "w": 4,
              "x": 0,
              "y": 0
            },
            "id": 8,
            "interval": null,
            "links": [],
            "mappingType": 1,
            "mappingTypes": [
              {
                "name": "value to text",
                "value": 1
              },
              {
                "name": "range to text",
                "value": 2
              }
            ],
            "maxDataPoints": 100,
            "maxPerRow": 12,
            "nullPointMode": "null",
            "nullText": null,
            "postfix": "",
            "postfixFontSize": "50%",
            "prefix": "",
            "prefixFontSize": "50%",
            "rangeMaps": [
              {
                "from": "null",
                "text": "N/A",
                "to": "null"
              }
            ],
            "sparkline": {
              "fillColor": "rgba(31, 118, 189, 0.18)",
              "full": false,
              "lineColor": "rgb(31, 120, 193)",
              "show": true
            },
            "tableColumn": "",
            "targets": [
              {
                "expr": "(((count(count(node_cpu_seconds_total{instance=~\"$node\",job=~\"$job\"}) by (cpu))) - avg(sum by (mode)(irate(node_cpu_seconds_total{mode='idle',instance=~\"$node\",job=~\"$job\"}[5m])))) * 100) / count(count(node_cpu_seconds_total{instance=~\"$node\",job=~\"$job\"}) by (cpu))",
                "format": "time_series",
                "hide": false,
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "",
                "refId": "A",
                "step": 900
              }
            ],
            "thresholds": "85,95",
            "title": "CPU Busy",
            "type": "singlestat",
            "valueFontSize": "80%",
            "valueMaps": [
              {
                "op": "=",
                "text": "N/A",
                "value": "null"
              }
            ],
            "valueName": "current"
          },
          {
            "cacheTimeout": null,
            "colorBackground": false,
            "colorValue": true,
            "colors": [
              "rgba(50, 172, 45, 0.97)",
              "rgba(237, 129, 40, 0.89)",
              "rgba(245, 54, 54, 0.9)"
            ],
            "datasource": "prometheus",
            "decimals": null,
            "description": "Busy state of all CPU cores together (1 min average)",
            "fieldConfig": {
              "defaults": {
                "custom": {}
              },
              "overrides": []
            },
            "format": "percent",
            "gauge": {
              "maxValue": 100,
              "minValue": 0,
              "show": true,
              "thresholdLabels": false,
              "thresholdMarkers": true
            },
            "gridPos": {
              "h": 4,
              "w": 4,
              "x": 4,
              "y": 0
            },
            "id": 10,
            "interval": null,
            "links": [],
            "mappingType": 1,
            "mappingTypes": [
              {
                "name": "value to text",
                "value": 1
              },
              {
                "name": "range to text",
                "value": 2
              }
            ],
            "maxDataPoints": 100,
            "maxPerRow": 12,
            "nullPointMode": "null",
            "nullText": null,
            "postfix": "",
            "postfixFontSize": "50%",
            "prefix": "",
            "prefixFontSize": "50%",
            "rangeMaps": [
              {
                "from": "null",
                "text": "N/A",
                "to": "null"
              }
            ],
            "sparkline": {
              "fillColor": "rgba(31, 118, 189, 0.18)",
              "full": false,
              "lineColor": "rgb(31, 120, 193)",
              "show": true
            },
            "tableColumn": "",
            "targets": [
              {
                "expr": "avg(node_load1{instance=~\"$node\",job=~\"$job\"}) /  count(count(node_cpu_seconds_total{instance=~\"$node\",job=~\"$job\"}) by (cpu)) * 100",
                "hide": false,
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "",
                "refId": "A",
                "step": 900
              }
            ],
            "thresholds": "85, 95",
            "title": "CPU System Load (1m avg)",
            "type": "singlestat",
            "valueFontSize": "80%",
            "valueMaps": [
              {
                "op": "=",
                "text": "N/A",
                "value": "null"
              }
            ],
            "valueName": "current"
          },
          {
            "cacheTimeout": null,
            "colorBackground": false,
            "colorValue": true,
            "colors": [
              "rgba(50, 172, 45, 0.97)",
              "rgba(237, 129, 40, 0.89)",
              "rgba(245, 54, 54, 0.9)"
            ],
            "datasource": "prometheus",
            "decimals": null,
            "description": "Busy state of all CPU cores together (5 min average)",
            "fieldConfig": {
              "defaults": {
                "custom": {}
              },
              "overrides": []
            },
            "format": "percent",
            "gauge": {
              "maxValue": 100,
              "minValue": 0,
              "show": true,
              "thresholdLabels": false,
              "thresholdMarkers": true
            },
            "gridPos": {
              "h": 4,
              "w": 4,
              "x": 8,
              "y": 0
            },
            "id": 12,
            "interval": null,
            "links": [],
            "mappingType": 1,
            "mappingTypes": [
              {
                "name": "value to text",
                "value": 1
              },
              {
                "name": "range to text",
                "value": 2
              }
            ],
            "maxDataPoints": 100,
            "maxPerRow": 12,
            "nullPointMode": "null",
            "nullText": null,
            "postfix": "",
            "postfixFontSize": "50%",
            "prefix": "",
            "prefixFontSize": "50%",
            "rangeMaps": [
              {
                "from": "null",
                "text": "N/A",
                "to": "null"
              }
            ],
            "sparkline": {
              "fillColor": "rgba(31, 118, 189, 0.18)",
              "full": false,
              "lineColor": "rgb(31, 120, 193)",
              "show": true
            },
            "tableColumn": "",
            "targets": [
              {
                "expr": "avg(node_load5{instance=~\"$node\",job=~\"$job\"}) /  count(count(node_cpu_seconds_total{instance=~\"$node\",job=~\"$job\"}) by (cpu)) * 100",
                "format": "time_series",
                "hide": false,
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "",
                "refId": "A",
                "step": 900
              }
            ],
            "thresholds": "85, 95",
            "title": "CPU System Load (5m avg)",
            "type": "singlestat",
            "valueFontSize": "80%",
            "valueMaps": [
              {
                "op": "=",
                "text": "N/A",
                "value": "null"
              }
            ],
            "valueName": "current"
          },
          {
            "cacheTimeout": null,
            "colorBackground": false,
            "colorValue": true,
            "colors": [
              "rgba(50, 172, 45, 0.97)",
              "rgba(237, 129, 40, 0.89)",
              "rgba(245, 54, 54, 0.9)"
            ],
            "datasource": "prometheus",
            "decimals": 0,
            "description": "Non available RAM memory",
            "fieldConfig": {
              "defaults": {
                "custom": {}
              },
              "overrides": []
            },
            "format": "percent",
            "gauge": {
              "maxValue": 100,
              "minValue": 0,
              "show": true,
              "thresholdLabels": false,
              "thresholdMarkers": true
            },
            "gridPos": {
              "h": 4,
              "w": 4,
              "x": 12,
              "y": 0
            },
            "hideTimeOverride": false,
            "id": 14,
            "interval": null,
            "links": [],
            "mappingType": 1,
            "mappingTypes": [
              {
                "name": "value to text",
                "value": 1
              },
              {
                "name": "range to text",
                "value": 2
              }
            ],
            "maxDataPoints": 100,
            "maxPerRow": 6,
            "nullPointMode": "null",
            "nullText": null,
            "postfix": "",
            "postfixFontSize": "50%",
            "prefix": "",
            "prefixFontSize": "50%",
            "rangeMaps": [
              {
                "from": "null",
                "text": "N/A",
                "to": "null"
              }
            ],
            "sparkline": {
              "fillColor": "rgba(31, 118, 189, 0.18)",
              "full": false,
              "lineColor": "rgb(31, 120, 193)",
              "show": true
            },
            "tableColumn": "{endpoint=\"https\", instance=\"rpi-k3s-worker1\", job=\"node-exporter\", namespace=\"monitoring\", pod=\"node-exporter-m4xcx\", service=\"node-exporter\"}",
            "targets": [
              {
                "expr": "((node_memory_MemTotal_bytes{instance=~\"$node\",job=~\"$job\"} - node_memory_MemFree_bytes{instance=~\"$node\",job=~\"$job\"}) / (node_memory_MemTotal_bytes{instance=~\"$node\",job=~\"$job\"} )) * 100",
                "format": "time_series",
                "hide": true,
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "",
                "refId": "A",
                "step": 900
              },
              {
                "expr": "100 - ((node_memory_MemAvailable_bytes{instance=~\"$node\",job=~\"$job\"} * 100) / node_memory_MemTotal_bytes{instance=~\"$node\",job=~\"$job\"})",
                "format": "time_series",
                "hide": false,
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "",
                "refId": "B",
                "step": 900
              }
            ],
            "thresholds": "80,90",
            "title": "Used RAM Memory",
            "type": "singlestat",
            "valueFontSize": "80%",
            "valueMaps": [],
            "valueName": "current"
          },
          {
            "cacheTimeout": null,
            "colorBackground": false,
            "colorValue": true,
            "colors": [
              "rgba(50, 172, 45, 0.97)",
              "rgba(237, 129, 40, 0.89)",
              "rgba(245, 54, 54, 0.9)"
            ],
            "datasource": "prometheus",
            "decimals": null,
            "editable": true,
            "error": false,
            "fieldConfig": {
              "defaults": {
                "custom": {}
              },
              "overrides": []
            },
            "format": "percentunit",
            "gauge": {
              "maxValue": 1,
              "minValue": 0,
              "show": true,
              "thresholdLabels": false,
              "thresholdMarkers": true
            },
            "gridPos": {
              "h": 4,
              "w": 4,
              "x": 16,
              "y": 0
            },
            "id": 20,
            "interval": null,
            "isNew": true,
            "links": [],
            "mappingType": 1,
            "mappingTypes": [
              {
                "name": "value to text",
                "value": 1
              },
              {
                "name": "range to text",
                "value": 2
              }
            ],
            "maxDataPoints": 100,
            "nullPointMode": "connected",
            "nullText": null,
            "postfix": "",
            "postfixFontSize": "50%",
            "prefix": "",
            "prefixFontSize": "50%",
            "rangeMaps": [
              {
                "from": "null",
                "text": "N/A",
                "to": "null"
              }
            ],
            "sparkline": {
              "fillColor": "rgba(31, 118, 189, 0.18)",
              "full": false,
              "lineColor": "rgb(31, 120, 193)",
              "show": true
            },
            "tableColumn": "",
            "targets": [
              {
                "expr": "min(node_filesystem_free_bytes{fstype=~\"xfs|ext4\",instance=~\"$node\"} / node_filesystem_size_bytes{fstype=~\"xfs|ext4\",instance=~\"$node*\"})",
                "format": "time_series",
                "interval": "15s",
                "intervalFactor": 1,
                "legendFormat": "",
                "refId": "A",
                "step": 240,
                "target": ""
              }
            ],
            "thresholds": "0.80, 0.90",
            "title": "Free Filesystem Space (Lowest)",
            "type": "singlestat",
            "valueFontSize": "80%",
            "valueMaps": [
              {
                "op": "=",
                "text": "N/A",
                "value": "null"
              }
            ],
            "valueName": "current"
          },
          {
            "aliasColors": {},
            "breakPoint": "50%",
            "cacheTimeout": null,
            "combine": {
              "label": "Others",
              "threshold": 0
            },
            "datasource": "prometheus",
            "decimals": null,
            "fieldConfig": {
              "defaults": {
                "custom": {}
              },
              "overrides": []
            },
            "fontSize": "100%",
            "format": "decbytes",
            "gridPos": {
              "h": 7,
              "w": 4,
              "x": 20,
              "y": 0
            },
            "id": 40,
            "interval": null,
            "legend": {
              "header": "",
              "percentage": false,
              "show": true,
              "sideWidth": null,
              "values": true
            },
            "legendType": "On graph",
            "links": [],
            "maxDataPoints": 3,
            "nullPointMode": "connected",
            "pieType": "pie",
            "strokeWidth": 1,
            "targets": [
              {
                "expr": "node_filesystem_size_bytes{instance=~\"$node\",job=~\"$job\",device!~'rootfs'} - node_filesystem_avail_bytes{instance=~\"$node\",job=~\"$job\",device!~'rootfs'} ",
                "format": "time_series",
                "hide": false,
                "instant": false,
                "intervalFactor": 1,
                "legendFormat": "{{mountpoint}}",
                "refId": "A"
              }
            ],
            "title": "Disk Space Used",
            "type": "grafana-piechart-panel",
            "valueName": "current"
          },
          {
            "cacheTimeout": null,
            "colorBackground": false,
            "colorValue": false,
            "colors": [
              "rgba(245, 54, 54, 0.9)",
              "rgba(237, 129, 40, 0.89)",
              "rgba(50, 172, 45, 0.97)"
            ],
            "datasource": "prometheus",
            "decimals": 1,
            "description": "System uptime",
            "fieldConfig": {
              "defaults": {
                "custom": {}
              },
              "overrides": []
            },
            "format": "s",
            "gauge": {
              "maxValue": 100,
              "minValue": 0,
              "show": false,
              "thresholdLabels": false,
              "thresholdMarkers": true
            },
            "gridPos": {
              "h": 3,
              "w": 3,
              "x": 0,
              "y": 4
            },
            "hideTimeOverride": true,
            "id": 24,
            "interval": null,
            "links": [],
            "mappingType": 1,
            "mappingTypes": [
              {
                "name": "value to text",
                "value": 1
              },
              {
                "name": "range to text",
                "value": 2
              }
            ],
            "maxDataPoints": 100,
            "nullPointMode": "null",
            "nullText": null,
            "postfix": "s",
            "postfixFontSize": "50%",
            "prefix": "",
            "prefixFontSize": "50%",
            "rangeMaps": [
              {
                "from": "null",
                "text": "N/A",
                "to": "null"
              }
            ],
            "sparkline": {
              "fillColor": "rgba(31, 118, 189, 0.18)",
              "full": false,
              "lineColor": "rgb(31, 120, 193)",
              "show": false
            },
            "tableColumn": "",
            "targets": [
              {
                "expr": "node_time_seconds{instance=~\"$node\",job=~\"$job\"} - node_boot_time_seconds{instance=~\"$node\",job=~\"$job\"}",
                "intervalFactor": 2,
                "refId": "A",
                "step": 1800
              }
            ],
            "thresholds": "",
            "title": "Uptime",
            "type": "singlestat",
            "valueFontSize": "50%",
            "valueMaps": [
              {
                "op": "=",
                "text": "N/A",
                "value": "null"
              }
            ],
            "valueName": "current"
          },
          {
            "cacheTimeout": null,
            "colorBackground": false,
            "colorValue": false,
            "colors": [
              "rgba(245, 54, 54, 0.9)",
              "rgba(237, 129, 40, 0.89)",
              "rgba(50, 172, 45, 0.97)"
            ],
            "datasource": "prometheus",
            "description": "Total number of CPU cores",
            "fieldConfig": {
              "defaults": {
                "custom": {}
              },
              "overrides": []
            },
            "format": "short",
            "gauge": {
              "maxValue": 100,
              "minValue": 0,
              "show": false,
              "thresholdLabels": false,
              "thresholdMarkers": true
            },
            "gridPos": {
              "h": 3,
              "w": 2,
              "x": 3,
              "y": 4
            },
            "id": 18,
            "interval": null,
            "links": [],
            "mappingType": 1,
            "mappingTypes": [
              {
                "name": "value to text",
                "value": 1
              },
              {
                "name": "range to text",
                "value": 2
              }
            ],
            "maxDataPoints": 100,
            "maxPerRow": 6,
            "nullPointMode": "null",
            "nullText": null,
            "postfix": "",
            "postfixFontSize": "50%",
            "prefix": "",
            "prefixFontSize": "50%",
            "rangeMaps": [
              {
                "from": "null",
                "text": "N/A",
                "to": "null"
              }
            ],
            "sparkline": {
              "fillColor": "rgba(31, 118, 189, 0.18)",
              "full": false,
              "lineColor": "rgb(31, 120, 193)",
              "show": false
            },
            "tableColumn": "",
            "targets": [
              {
                "expr": "count(count(node_cpu_seconds_total{instance=~\"$node\",job=~\"$job\"}) by (cpu))",
                "intervalFactor": 1,
                "refId": "A",
                "step": 900
              }
            ],
            "thresholds": "",
            "title": "CPU Cores",
            "type": "singlestat",
            "valueFontSize": "50%",
            "valueMaps": [
              {
                "op": "=",
                "text": "N/A",
                "value": "null"
              }
            ],
            "valueName": "current"
          },
          {
            "cacheTimeout": null,
            "colorBackground": false,
            "colorValue": false,
            "colors": [
              "rgba(245, 54, 54, 0.9)",
              "rgba(237, 129, 40, 0.89)",
              "rgba(50, 172, 45, 0.97)"
            ],
            "datasource": "prometheus",
            "decimals": 2,
            "description": "System Load (1m avg)",
            "fieldConfig": {
              "defaults": {
                "custom": {}
              },
              "overrides": []
            },
            "format": "short",
            "gauge": {
              "maxValue": 100,
              "minValue": 0,
              "show": false,
              "thresholdLabels": false,
              "thresholdMarkers": true
            },
            "gridPos": {
              "h": 3,
              "w": 3,
              "x": 5,
              "y": 4
            },
            "id": 16,
            "interval": null,
            "links": [],
            "mappingType": 1,
            "mappingTypes": [
              {
                "name": "value to text",
                "value": 1
              },
              {
                "name": "range to text",
                "value": 2
              }
            ],
            "maxDataPoints": 100,
            "maxPerRow": 12,
            "nullPointMode": "null",
            "nullText": null,
            "postfix": "",
            "postfixFontSize": "50%",
            "prefix": "",
            "prefixFontSize": "50%",
            "rangeMaps": [
              {
                "from": "null",
                "text": "N/A",
                "to": "null"
              }
            ],
            "sparkline": {
              "fillColor": "rgba(31, 118, 189, 0.18)",
              "full": false,
              "lineColor": "rgb(31, 120, 193)",
              "show": false
            },
            "tableColumn": "node_load1{endpoint=\"https\", instance=\"rpi-k3s-worker1\", job=\"node-exporter\", namespace=\"monitoring\", pod=\"node-exporter-m4xcx\", service=\"node-exporter\"}",
            "targets": [
              {
                "expr": "node_load1{instance=~\"$node\",job=~\"$job\"}",
                "hide": false,
                "intervalFactor": 1,
                "refId": "A",
                "step": 900
              }
            ],
            "thresholds": "",
            "title": "System Load (1m avg)",
            "type": "singlestat",
            "valueFontSize": "50%",
            "valueMaps": [
              {
                "op": "=",
                "text": "N/A",
                "value": "null"
              }
            ],
            "valueName": "current"
          },
          {
            "cacheTimeout": null,
            "colorBackground": false,
            "colorValue": false,
            "colors": [
              "rgba(245, 54, 54, 0.9)",
              "rgba(237, 129, 40, 0.89)",
              "rgba(50, 172, 45, 0.97)"
            ],
            "datasource": "prometheus",
            "decimals": 2,
            "description": "",
            "fieldConfig": {
              "defaults": {
                "custom": {}
              },
              "overrides": []
            },
            "format": "bytes",
            "gauge": {
              "maxValue": 100,
              "minValue": 0,
              "show": false,
              "thresholdLabels": false,
              "thresholdMarkers": true
            },
            "gridPos": {
              "h": 3,
              "w": 3,
              "x": 8,
              "y": 4
            },
            "id": 22,
            "interval": null,
            "links": [],
            "mappingType": 1,
            "mappingTypes": [
              {
                "name": "value to text",
                "value": 1
              },
              {
                "name": "range to text",
                "value": 2
              }
            ],
            "maxDataPoints": 100,
            "maxPerRow": 6,
            "nullPointMode": "null",
            "nullText": null,
            "postfix": "",
            "postfixFontSize": "70%",
            "prefix": "",
            "prefixFontSize": "50%",
            "rangeMaps": [
              {
                "from": "null",
                "text": "N/A",
                "to": "null"
              }
            ],
            "sparkline": {
              "fillColor": "rgba(31, 118, 189, 0.18)",
              "full": false,
              "lineColor": "rgb(31, 120, 193)",
              "show": false
            },
            "tableColumn": "node_memory_MemFree_bytes{endpoint=\"https\", instance=\"rpi-k3s-worker1\", job=\"node-exporter\", namespace=\"monitoring\", pod=\"node-exporter-m4xcx\", service=\"node-exporter\"}",
            "targets": [
              {
                "expr": "node_memory_MemFree_bytes{instance=~\"$node\",job=~\"$job\"}",
                "format": "time_series",
                "intervalFactor": 1,
                "refId": "A",
                "step": 900
              }
            ],
            "thresholds": "",
            "title": "Free RAM",
            "type": "singlestat",
            "valueFontSize": "50%",
            "valueMaps": [
              {
                "op": "=",
                "text": "N/A",
                "value": "null"
              }
            ],
            "valueName": "current"
          },
          {
            "cacheTimeout": null,
            "colorBackground": false,
            "colorValue": false,
            "colors": [
              "rgba(50, 172, 45, 0.97)",
              "rgba(237, 129, 40, 0.89)",
              "rgba(245, 54, 54, 0.9)"
            ],
            "datasource": "prometheus",
            "editable": true,
            "error": false,
            "fieldConfig": {
              "defaults": {
                "custom": {}
              },
              "overrides": []
            },
            "format": "bytes",
            "gauge": {
              "maxValue": 100,
              "minValue": 0,
              "show": false,
              "thresholdLabels": false,
              "thresholdMarkers": true
            },
            "gridPos": {
              "h": 3,
              "w": 3,
              "x": 11,
              "y": 4
            },
            "id": 26,
            "interval": null,
            "isNew": true,
            "links": [],
            "mappingType": 1,
            "mappingTypes": [
              {
                "name": "value to text",
                "value": 1
              },
              {
                "name": "range to text",
                "value": 2
              }
            ],
            "maxDataPoints": 100,
            "nullPointMode": "connected",
            "nullText": null,
            "postfix": "",
            "postfixFontSize": "50%",
            "prefix": "",
            "prefixFontSize": "50%",
            "rangeMaps": [
              {
                "from": "null",
                "text": "N/A",
                "to": "null"
              }
            ],
            "sparkline": {
              "fillColor": "rgba(31, 118, 189, 0.18)",
              "full": false,
              "lineColor": "rgb(31, 120, 193)",
              "show": false
            },
            "tableColumn": "",
            "targets": [
              {
                "expr": "sum(node_filesystem_free_bytes{instance=~\"$node\", device=~\"/dev/.*\"})",
                "format": "time_series",
                "intervalFactor": 1,
                "refId": "A",
                "step": 120
              }
            ],
            "thresholds": "80,90",
            "title": "Disk Free",
            "type": "singlestat",
            "valueFontSize": "80%",
            "valueMaps": [
              {
                "op": "=",
                "text": "N/A",
                "value": "null"
              }
            ],
            "valueName": "avg"
          },
          {
            "cacheTimeout": null,
            "colorBackground": false,
            "colorValue": false,
            "colors": [
              "rgba(245, 54, 54, 0.9)",
              "rgba(237, 129, 40, 0.89)",
              "rgba(50, 172, 45, 0.97)"
            ],
            "datasource": "prometheus",
            "decimals": null,
            "fieldConfig": {
              "defaults": {
                "custom": {}
              },
              "overrides": []
            },
            "format": "decbytes",
            "gauge": {
              "maxValue": 100,
              "minValue": 0,
              "show": false,
              "thresholdLabels": false,
              "thresholdMarkers": true
            },
            "gridPos": {
              "h": 3,
              "w": 3,
              "x": 14,
              "y": 4
            },
            "height": "200px",
            "hideTimeOverride": false,
            "id": 34,
            "interval": null,
            "links": [],
            "mappingType": 1,
            "mappingTypes": [
              {
                "name": "value to text",
                "value": 1
              },
              {
                "name": "range to text",
                "value": 2
              }
            ],
            "maxDataPoints": 100,
            "nullPointMode": "connected",
            "nullText": null,
            "postfix": "",
            "postfixFontSize": "50%",
            "prefix": "",
            "prefixFontSize": "50%",
            "rangeMaps": [
              {
                "from": "null",
                "text": "N/A",
                "to": "null"
              }
            ],
            "repeat": null,
            "sparkline": {
              "fillColor": "rgba(31, 118, 189, 0.18)",
              "full": false,
              "lineColor": "rgb(31, 120, 193)",
              "show": true
            },
            "tableColumn": "",
            "targets": [
              {
                "expr": "sum(increase(node_network_receive_bytes{instance=~\"$node\"}[24h]))",
                "format": "time_series",
                "interval": "",
                "intervalFactor": 2,
                "refId": "A",
                "step": 600
              }
            ],
            "thresholds": "",
            "timeFrom": null,
            "timeShift": null,
            "title": "Traffic In",
            "type": "singlestat",
            "valueFontSize": "80%",
            "valueMaps": [
              {
                "op": "=",
                "text": "N/A",
                "value": "null"
              }
            ],
            "valueName": "max"
          },
          {
            "cacheTimeout": null,
            "colorBackground": false,
            "colorValue": false,
            "colors": [
              "rgba(245, 54, 54, 0.9)",
              "rgba(237, 129, 40, 0.89)",
              "rgba(50, 172, 45, 0.97)"
            ],
            "datasource": "prometheus",
            "fieldConfig": {
              "defaults": {
                "custom": {}
              },
              "overrides": []
            },
            "format": "bytes",
            "gauge": {
              "maxValue": 100,
              "minValue": 0,
              "show": false,
              "thresholdLabels": false,
              "thresholdMarkers": true
            },
            "gridPos": {
              "h": 3,
              "w": 3,
              "x": 17,
              "y": 4
            },
            "height": "200px",
            "id": 36,
            "interval": null,
            "links": [],
            "mappingType": 1,
            "mappingTypes": [
              {
                "name": "value to text",
                "value": 1
              },
              {
                "name": "range to text",
                "value": 2
              }
            ],
            "maxDataPoints": 100,
            "nullPointMode": "connected",
            "nullText": null,
            "postfix": "",
            "postfixFontSize": "50%",
            "prefix": "",
            "prefixFontSize": "50%",
            "rangeMaps": [
              {
                "from": "null",
                "text": "N/A",
                "to": "null"
              }
            ],
            "repeat": null,
            "sparkline": {
              "fillColor": "rgba(31, 118, 189, 0.18)",
              "full": false,
              "lineColor": "rgb(31, 120, 193)",
              "show": true
            },
            "tableColumn": "",
            "targets": [
              {
                "expr": "sum(increase(node_network_transmit_bytes{instance=~\"$node\"}[24h]))",
                "format": "time_series",
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "",
                "refId": "A",
                "step": 600
              }
            ],
            "thresholds": "",
            "timeFrom": null,
            "title": "Traffic Out",
            "type": "singlestat",
            "valueFontSize": "80%",
            "valueMaps": [
              {
                "op": "=",
                "text": "N/A",
                "value": "null"
              }
            ],
            "valueName": "max"
          },
          {
            "alert": {
              "conditions": [
                {
                  "evaluator": {
                    "params": [
                      8293230169
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "and"
                  },
                  "query": {
                    "params": [
                      "A",
                      "5m",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "avg"
                  },
                  "type": "query"
                }
              ],
              "executionErrorState": "alerting",
              "frequency": "60s",
              "handler": 1,
              "name": "Memory usage alert",
              "noDataState": "no_data",
              "notifications": []
            },
            "alerting": {},
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "prometheus",
            "editable": true,
            "error": false,
            "fieldConfig": {
              "defaults": {
                "custom": {}
              },
              "overrides": []
            },
            "fill": 1,
            "fillGradient": 0,
            "grid": {},
            "gridPos": {
              "h": 6,
              "w": 8,
              "x": 0,
              "y": 7
            },
            "hiddenSeries": false,
            "id": 28,
            "isNew": true,
            "legend": {
              "avg": false,
              "current": false,
              "max": false,
              "min": false,
              "show": true,
              "total": false,
              "values": false
            },
            "lines": true,
            "linewidth": 2,
            "links": [],
            "nullPointMode": "connected",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.3.4",
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [
              {
                "alias": "Free",
                "zindex": 3
              }
            ],
            "spaceLength": 10,
            "stack": true,
            "steppedLine": false,
            "targets": [
              {
                "expr": "node_memory_MemTotal_bytes{instance=~\"$node\"} - node_memory_MemFree_bytes{instance=~\"$node\"} - node_memory_Cached_bytes{instance=~\"$node\"} - node_memory_Buffers_bytes{instance=~\"$node\"} - node_memory_Slab_bytes{instance=~\"$node\"}",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "Used",
                "metric": "memo",
                "refId": "A",
                "step": 40,
                "target": ""
              },
              {
                "expr": "node_memory_Buffers_bytes{instance=~\"$node\"}",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "Buffers",
                "refId": "C",
                "step": 40
              },
              {
                "expr": "node_memory_Cached_bytes{instance=~\"$node\"} + node_memory_Slab_bytes{instance=~\"$node\"}",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "Cached",
                "refId": "D",
                "step": 40
              },
              {
                "expr": "node_memory_MemFree_bytes{instance=~\"$node\"}",
                "format": "time_series",
                "hide": false,
                "intervalFactor": 2,
                "legendFormat": "Free",
                "refId": "B",
                "step": 40
              }
            ],
            "thresholds": [
              {
                "colorMode": "critical",
                "fill": true,
                "line": true,
                "op": "gt",
                "value": 8293230169
              }
            ],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "Ram Used",
            "tooltip": {
              "msResolution": false,
              "shared": true,
              "sort": 0,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "bytes",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": "0",
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "alert": {
              "conditions": [
                {
                  "evaluator": {
                    "params": [
                      80
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "and"
                  },
                  "query": {
                    "params": [
                      "A",
                      "5m",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "avg"
                  },
                  "type": "query"
                }
              ],
              "executionErrorState": "alerting",
              "frequency": "60s",
              "handler": 1,
              "name": "Node Memory alert",
              "noDataState": "no_data",
              "notifications": []
            },
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "prometheus",
            "fieldConfig": {
              "defaults": {
                "custom": {}
              },
              "overrides": []
            },
            "fill": 1,
            "fillGradient": 0,
            "gridPos": {
              "h": 6,
              "w": 8,
              "x": 8,
              "y": 7
            },
            "hiddenSeries": false,
            "id": 50,
            "legend": {
              "alignAsTable": false,
              "avg": false,
              "current": true,
              "max": true,
              "min": false,
              "rightSide": false,
              "show": false,
              "total": false,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "nullPointMode": "null",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.3.4",
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "expr": "(1 - (sum by (instance) (node_memory_MemFree_bytes{instance=~\"$node\"} + node_memory_Buffers_bytes{instance=~\"$node\"} + node_memory_Cached_bytes{instance=~\"$node\"})) / (sum by (instance) (node_memory_MemTotal_bytes{instance=~\"$node\"})) ) * 100",
                "format": "time_series",
                "intervalFactor": 1,
                "legendFormat": "{{instance}}",
                "refId": "A"
              }
            ],
            "thresholds": [
              {
                "colorMode": "critical",
                "fill": true,
                "line": true,
                "op": "gt",
                "value": 80
              }
            ],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "RAM Used %",
            "tooltip": {
              "shared": true,
              "sort": 0,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "percent",
                "label": null,
                "logBase": 1,
                "max": "100",
                "min": "0",
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "prometheus",
            "editable": true,
            "error": false,
            "fieldConfig": {
              "defaults": {
                "custom": {}
              },
              "overrides": []
            },
            "fill": 1,
            "fillGradient": 0,
            "grid": {},
            "gridPos": {
              "h": 6,
              "w": 8,
              "x": 16,
              "y": 7
            },
            "hiddenSeries": false,
            "id": 32,
            "isNew": true,
            "legend": {
              "avg": false,
              "current": false,
              "max": false,
              "min": false,
              "show": true,
              "total": false,
              "values": false
            },
            "lines": true,
            "linewidth": 2,
            "links": [],
            "nullPointMode": "connected",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.3.4",
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [
              {
                "alias": "/.*outbound/",
                "transform": "negative-Y"
              }
            ],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "expr": "irate(node_network_transmit_bytes_total{instance=~\"$node\", device!~\"lo|bond[0-9]|cbr[0-9]|veth.*\"}[5m]) > 0",
                "format": "time_series",
                "hide": false,
                "instant": false,
                "intervalFactor": 2,
                "legendFormat": "{{device}} outbound",
                "refId": "A",
                "step": 40
              },
              {
                "expr": "irate(node_network_receive_bytes_total{instance=~\"$node\", device!~\"lo|bond[0-9]|cbr[0-9]|veth.*\"}[5m]) > 0",
                "format": "time_series",
                "hide": false,
                "instant": false,
                "intervalFactor": 2,
                "legendFormat": "{{device}} inbound",
                "refId": "B",
                "step": 40
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "Network Usage",
            "tooltip": {
              "msResolution": false,
              "shared": true,
              "sort": 0,
              "value_type": "cumulative"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "Bps",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": false
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "alert": {
              "conditions": [
                {
                  "evaluator": {
                    "params": [
                      0.8
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "and"
                  },
                  "query": {
                    "params": [
                      "A",
                      "5m",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "avg"
                  },
                  "type": "query"
                }
              ],
              "executionErrorState": "alerting",
              "frequency": "60s",
              "handler": 1,
              "name": "CPU Usage alert",
              "noDataState": "no_data",
              "notifications": []
            },
            "alerting": {},
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "prometheus",
            "editable": true,
            "error": false,
            "fieldConfig": {
              "defaults": {
                "custom": {}
              },
              "overrides": []
            },
            "fill": 3,
            "fillGradient": 0,
            "grid": {},
            "gridPos": {
              "h": 6,
              "w": 8,
              "x": 0,
              "y": 13
            },
            "hiddenSeries": false,
            "id": 30,
            "isNew": true,
            "legend": {
              "alignAsTable": false,
              "avg": false,
              "current": false,
              "hideEmpty": false,
              "hideZero": false,
              "max": false,
              "min": false,
              "rightSide": false,
              "show": true,
              "total": false,
              "values": false
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "nullPointMode": "connected",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.3.4",
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": true,
            "steppedLine": false,
            "targets": [
              {
                "expr": "irate(node_cpu_seconds_total{instance=~\"$node\", mode!=\"idle\"}[5m])",
                "format": "time_series",
                "hide": false,
                "instant": false,
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "{{mode}}",
                "refId": "A",
                "step": 40,
                "target": ""
              }
            ],
            "thresholds": [
              {
                "colorMode": "critical",
                "fill": true,
                "line": true,
                "op": "gt",
                "value": 0.8
              }
            ],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "CPU Usage",
            "tooltip": {
              "msResolution": false,
              "shared": true,
              "sort": 2,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "percentunit",
                "label": null,
                "logBase": 1,
                "max": 1,
                "min": 0,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": false
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "prometheus",
            "editable": true,
            "error": false,
            "fieldConfig": {
              "defaults": {
                "custom": {}
              },
              "overrides": []
            },
            "fill": 1,
            "fillGradient": 0,
            "grid": {},
            "gridPos": {
              "h": 6,
              "w": 8,
              "x": 8,
              "y": 13
            },
            "hiddenSeries": false,
            "id": 38,
            "legend": {
              "avg": false,
              "current": false,
              "max": false,
              "min": false,
              "show": true,
              "total": false,
              "values": false
            },
            "lines": true,
            "linewidth": 2,
            "links": [],
            "nullPointMode": "connected",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.3.4",
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "repeat": null,
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "expr": "sum(node_load1{instance=~\"$node\"})",
                "format": "time_series",
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "load1",
                "metric": "node_load1",
                "refId": "A",
                "step": 40,
                "target": ""
              },
              {
                "expr": "sum(node_load5{instance=~\"$node\"})",
                "format": "time_series",
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "load5",
                "metric": "node_load5",
                "refId": "B",
                "step": 40,
                "target": ""
              },
              {
                "expr": "sum(node_load15{instance=~\"$node\"})",
                "format": "time_series",
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "load15",
                "metric": "node_load15",
                "refId": "C",
                "step": 40,
                "target": ""
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "Load",
            "tooltip": {
              "msResolution": false,
              "shared": true,
              "sort": 0,
              "value_type": "cumulative"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "alert": {
              "conditions": [
                {
                  "evaluator": {
                    "params": [
                      80
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "and"
                  },
                  "query": {
                    "params": [
                      "A",
                      "5m",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "avg"
                  },
                  "type": "query"
                }
              ],
              "executionErrorState": "alerting",
              "frequency": "60s",
              "handler": 1,
              "name": "cpu busy % alert",
              "noDataState": "no_data",
              "notifications": []
            },
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "prometheus",
            "editable": true,
            "error": false,
            "fieldConfig": {
              "defaults": {
                "custom": {}
              },
              "overrides": []
            },
            "fill": 1,
            "fillGradient": 0,
            "grid": {},
            "gridPos": {
              "h": 6,
              "w": 8,
              "x": 16,
              "y": 13
            },
            "hiddenSeries": false,
            "id": 46,
            "legend": {
              "avg": false,
              "current": false,
              "max": false,
              "min": false,
              "show": true,
              "total": false,
              "values": false
            },
            "lines": true,
            "linewidth": 2,
            "links": [],
            "nullPointMode": "connected",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.3.4",
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "expr": "100 - (avg by (cpu) (irate(node_cpu_seconds_total{mode=\"idle\", instance=~\"$node\"}[1m])) * 100)",
                "format": "time_series",
                "hide": false,
                "intervalFactor": 10,
                "legendFormat": "{{cpu}}",
                "refId": "A",
                "step": 20
              }
            ],
            "thresholds": [
              {
                "colorMode": "critical",
                "fill": true,
                "line": true,
                "op": "gt",
                "value": 80
              }
            ],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "cpu busy %",
            "tooltip": {
              "msResolution": false,
              "shared": true,
              "sort": 0,
              "value_type": "cumulative"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "percent",
                "label": "cpu usage",
                "logBase": 1,
                "max": 100,
                "min": 0,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "prometheus",
            "decimals": 3,
            "description": "",
            "fieldConfig": {
              "defaults": {
                "custom": {}
              },
              "overrides": []
            },
            "fill": 4,
            "fillGradient": 0,
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 0,
              "y": 19
            },
            "height": "",
            "hiddenSeries": false,
            "id": 42,
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": true,
              "max": true,
              "min": true,
              "rightSide": false,
              "show": true,
              "sort": "current",
              "sortDesc": false,
              "total": false,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "maxPerRow": 6,
            "nullPointMode": "null",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.3.4",
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "expr": "node_filesystem_size_bytes{instance=~\"$node\",job=~\"$job\",device=~\"/dev/.*\"} - node_filesystem_avail_bytes{instance=~\"$node\",job=~\"$job\",device=~\"/dev/.*\"}",
                "format": "time_series",
                "instant": false,
                "intervalFactor": 2,
                "legendFormat": "{{mountpoint}}",
                "refId": "A",
                "step": 1800
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "Disk Space Used",
            "tooltip": {
              "shared": true,
              "sort": 0,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "bytes",
                "label": "Bytes",
                "logBase": 1,
                "max": null,
                "min": "0",
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": false
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "alert": {
              "conditions": [
                {
                  "evaluator": {
                    "params": [
                      80
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "and"
                  },
                  "query": {
                    "params": [
                      "A",
                      "5m",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "avg"
                  },
                  "type": "query"
                }
              ],
              "executionErrorState": "alerting",
              "frequency": "60s",
              "handler": 1,
              "name": "Disk Space available, % alert",
              "noDataState": "no_data",
              "notifications": []
            },
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "prometheus",
            "fieldConfig": {
              "defaults": {
                "custom": {}
              },
              "overrides": []
            },
            "fill": 1,
            "fillGradient": 0,
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 12,
              "y": 19
            },
            "hiddenSeries": false,
            "id": 44,
            "legend": {
              "avg": false,
              "current": false,
              "max": false,
              "min": false,
              "show": true,
              "total": false,
              "values": false
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "nullPointMode": "null",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.3.4",
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "expr": "100*(min by (mountpoint) (node_filesystem_avail_bytes{instance=~\"$node\",job=~\"$job\",device=~\"/dev/.*\",}/node_filesystem_size_bytes{instance=~\"$node\",job=~\"$job\",device=~\"/dev/.*\"}))",
                "format": "time_series",
                "hide": false,
                "intervalFactor": 2,
                "legendFormat": "{{mountpoint}}",
                "refId": "A",
                "step": 4
              }
            ],
            "thresholds": [
              {
                "colorMode": "critical",
                "fill": true,
                "line": true,
                "op": "gt",
                "value": 80
              }
            ],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "Disk Space available, %",
            "tooltip": {
              "msResolution": false,
              "shared": true,
              "sort": 0,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "percent",
                "label": null,
                "logBase": 1,
                "max": "100",
                "min": "0",
                "show": true
              },
              {
                "format": "percent",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "columns": [],
            "datasource": "prometheus",
            "editable": true,
            "error": false,
            "fieldConfig": {
              "defaults": {
                "custom": {}
              },
              "overrides": []
            },
            "fontSize": "80%",
            "gridPos": {
              "h": 5,
              "w": 24,
              "x": 0,
              "y": 26
            },
            "hideTimeOverride": false,
            "id": 48,
            "links": [],
            "pageSize": 5,
            "scroll": true,
            "showHeader": true,
            "sort": {
              "col": null,
              "desc": false
            },
            "styles": [
              {
                "align": "auto",
                "dateFormat": "YYYY-MM-DD HH:mm:ss",
                "link": false,
                "pattern": "Time",
                "type": "date"
              },
              {
                "align": "auto",
                "colorMode": null,
                "colors": [
                  "rgba(245, 54, 54, 0.9)",
                  "rgba(237, 129, 40, 0.89)",
                  "rgba(50, 172, 45, 0.97)"
                ],
                "decimals": 2,
                "pattern": "Current|Max",
                "thresholds": [],
                "type": "number",
                "unit": "percent"
              },
              {
                "alias": "",
                "align": "auto",
                "colorMode": null,
                "colors": [
                  "rgba(245, 54, 54, 0.9)",
                  "rgba(237, 129, 40, 0.89)",
                  "rgba(50, 172, 45, 0.97)"
                ],
                "dateFormat": "YYYY-MM-DD HH:mm:ss",
                "decimals": 2,
                "mappingType": 1,
                "pattern": "instance",
                "thresholds": [],
                "type": "hidden",
                "unit": "short"
              },
              {
                "alias": "",
                "align": "auto",
                "colorMode": null,
                "colors": [
                  "rgba(245, 54, 54, 0.9)",
                  "rgba(237, 129, 40, 0.89)",
                  "rgba(50, 172, 45, 0.97)"
                ],
                "dateFormat": "YYYY-MM-DD HH:mm:ss",
                "decimals": 2,
                "mappingType": 1,
                "pattern": "job",
                "thresholds": [],
                "type": "hidden",
                "unit": "short"
              },
              {
                "alias": "",
                "align": "auto",
                "colorMode": "cell",
                "colors": [
                  "rgba(50, 172, 45, 0.97)",
                  "rgba(237, 129, 40, 0.89)",
                  "rgba(245, 54, 54, 0.9)"
                ],
                "dateFormat": "YYYY-MM-DD HH:mm:ss",
                "decimals": 2,
                "mappingType": 1,
                "pattern": "Value",
                "thresholds": [
                  "80",
                  "90"
                ],
                "type": "number",
                "unit": "percent"
              },
              {
                "align": "auto",
                "colorMode": null,
                "colors": [
                  "rgba(245, 54, 54, 0.9)",
                  "rgba(237, 129, 40, 0.89)",
                  "rgba(50, 172, 45, 0.97)"
                ],
                "dateFormat": "YYYY-MM-DD HH:mm:ss",
                "decimals": 2,
                "pattern": "/.*/",
                "thresholds": [],
                "type": "number",
                "unit": "short"
              }
            ],
            "targets": [
              {
                "expr": "100 - (node_filesystem_free_bytes{instance=~\"$node\",fstype=~\"xfs|ext4\"} / node_filesystem_size_bytes{instance=~\"$node\",fstype=~\"xfs|ext4\"} * 100)",
                "format": "table",
                "instant": true,
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "{{mountpoint}}",
                "refId": "A",
                "step": 120
              }
            ],
            "title": "Use per Filesystem",
            "transform": "table",
            "type": "table-old"
          }
        ],
        "refresh": false,
        "schemaVersion": 26,
        "style": "dark",
        "tags": [
          "custom",
          "k3s",
          "node-exporter"
        ],
        "templating": {
          "list": [
            {
              "allValue": null,
              "current": {
                "selected": false,
                "text": "rpi-k3s-worker1",
                "value": "rpi-k3s-worker1"
              },
              "datasource": "prometheus",
              "definition": "",
              "error": null,
              "hide": 0,
              "includeAll": false,
              "label": "Node:",
              "multi": false,
              "name": "node",
              "options": [],
              "query": "label_values(node_boot_time_seconds, instance)",
              "refresh": 1,
              "regex": "",
              "skipUrlSync": false,
              "sort": 0,
              "tagValuesQuery": "",
              "tags": [],
              "tagsQuery": "",
              "type": "query",
              "useTags": false
            },
            {
              "allValue": null,
              "current": {
                "selected": false,
                "text": "node-exporter",
                "value": "node-exporter"
              },
              "datasource": "prometheus",
              "definition": "",
              "error": null,
              "hide": 0,
              "includeAll": false,
              "label": "Job:",
              "multi": false,
              "name": "job",
              "options": [],
              "query": "label_values(node_boot_time_seconds, job)",
              "refresh": 1,
              "regex": "",
              "skipUrlSync": false,
              "sort": 1,
              "tagValuesQuery": "",
              "tags": [],
              "tagsQuery": "",
              "type": "query",
              "useTags": false
            }
          ]
        },
        "time": {
          "from": "now-3h",
          "to": "now"
        },
        "timepicker": {
          "hidden": false,
          "refresh_intervals": [
            "5s",
            "10s",
            "30s",
            "1m",
            "5m",
            "15m",
            "30m",
            "1h",
            "2h",
            "1d"
          ],
          "time_options": [
            "5m",
            "15m",
            "1h",
            "6h",
            "12h",
            "24h",
            "2d",
            "7d",
            "30d"
          ]
        },
        "timezone": "",
        "title": "Host Overview",
        "uid": "shpaq-01",
        "version": 1
      }
- apiVersion: v1
  kind: ConfigMap
  metadata:
    name: grafana-k8s-cluster-metrics
    namespace: monitoring
  data:
    k8s-cluster-metrics.json: |-
      {
        "annotations": {
          "list": [
            {
              "builtIn": 1,
              "datasource": "-- Grafana --",
              "enable": true,
              "hide": true,
              "iconColor": "rgba(0, 211, 255, 1)",
              "name": "Annotations & Alerts",
              "type": "dashboard"
            }
          ]
        },
        "description": "Summary metrics about cluster health, deployments, statefulsets, nodes, pods, containers running on Kubernetes nodes.",
        "editable": true,
        "gnetId": 9706,
        "graphTooltip": 1,
        "id": 51,
        "iteration": 1605795701398,
        "links": [
        ],
        "panels": [
          {
            "collapsed": false,
            "datasource": null,
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 0
            },
            "id": 2,
            "panels": [],
            "title": "Cluster Health",
            "type": "row"
          },
          {
            "cacheTimeout": null,
            "datasource": "prometheus",
            "fieldConfig": {
              "defaults": {
                "custom": {},
                "mappings": [
                  {
                    "id": 0,
                    "op": "=",
                    "text": "N/A",
                    "type": 1,
                    "value": "null"
                  }
                ],
                "max": 100,
                "min": 0,
                "nullValueMode": "connected",
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "#299c46",
                      "value": null
                    },
                    {
                      "color": "rgba(237, 129, 40, 0.89)",
                      "value": 80
                    },
                    {
                      "color": "#d44a3a",
                      "value": 90
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 4,
              "w": 6,
              "x": 0,
              "y": 1
            },
            "id": 4,
            "interval": null,
            "links": [],
            "maxDataPoints": 100,
            "options": {
              "orientation": "horizontal",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "showThresholdLabels": false,
              "showThresholdMarkers": true
            },
            "pluginVersion": "7.3.3",
            "targets": [
              {
                "expr": "sum(kube_pod_info{node=~\"$node\"}) / sum(kube_node_status_allocatable_pods{node=~\".*\"})",
                "format": "time_series",
                "intervalFactor": 1,
                "refId": "A"
              }
            ],
            "title": "Cluster Pod Usage",
            "type": "gauge"
          },
          {
            "cacheTimeout": null,
            "datasource": "prometheus",
            "fieldConfig": {
              "defaults": {
                "custom": {},
                "mappings": [
                  {
                    "id": 0,
                    "op": "=",
                    "text": "N/A",
                    "type": 1,
                    "value": "null"
                  }
                ],
                "max": 100,
                "min": 0,
                "nullValueMode": "connected",
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "#299c46",
                      "value": null
                    },
                    {
                      "color": "rgba(237, 129, 40, 0.89)",
                      "value": 80
                    },
                    {
                      "color": "#d44a3a",
                      "value": 90
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 4,
              "w": 6,
              "x": 6,
              "y": 1
            },
            "id": 5,
            "interval": null,
            "links": [],
            "maxDataPoints": 100,
            "options": {
              "orientation": "horizontal",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "showThresholdLabels": false,
              "showThresholdMarkers": true
            },
            "pluginVersion": "7.3.3",
            "targets": [
              {
                "expr": "sum(kube_pod_container_resource_requests_cpu_cores{node=~\"$node\"}) / sum(kube_node_status_allocatable_cpu_cores{node=~\"$node\"})",
                "format": "time_series",
                "intervalFactor": 1,
                "refId": "A"
              }
            ],
            "title": "Cluster CPU Usage",
            "type": "gauge"
          },
          {
            "cacheTimeout": null,
            "datasource": "prometheus",
            "fieldConfig": {
              "defaults": {
                "custom": {},
                "mappings": [
                  {
                    "id": 0,
                    "op": "=",
                    "text": "N/A",
                    "type": 1,
                    "value": "null"
                  }
                ],
                "max": 100,
                "min": 0,
                "nullValueMode": "connected",
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "#299c46",
                      "value": null
                    },
                    {
                      "color": "rgba(237, 129, 40, 0.89)",
                      "value": 80
                    },
                    {
                      "color": "#d44a3a",
                      "value": 90
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 4,
              "w": 6,
              "x": 12,
              "y": 1
            },
            "id": 6,
            "interval": null,
            "links": [],
            "maxDataPoints": 100,
            "options": {
              "orientation": "horizontal",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "showThresholdLabels": false,
              "showThresholdMarkers": true
            },
            "pluginVersion": "7.3.3",
            "targets": [
              {
                "expr": "sum(kube_pod_container_resource_requests_memory_bytes{node=~\"$node\"}) / sum(kube_node_status_allocatable_memory_bytes{node=~\"$node\"})",
                "format": "time_series",
                "intervalFactor": 1,
                "refId": "A"
              }
            ],
            "title": "Cluster Memory Usage",
            "type": "gauge"
          },
          {
            "cacheTimeout": null,
            "datasource": "prometheus",
            "fieldConfig": {
              "defaults": {
                "custom": {},
                "mappings": [
                  {
                    "id": 0,
                    "op": "=",
                    "text": "N/A",
                    "type": 1,
                    "value": "null"
                  }
                ],
                "max": 100,
                "min": 0,
                "nullValueMode": "connected",
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "#299c46",
                      "value": null
                    },
                    {
                      "color": "rgba(237, 129, 40, 0.89)",
                      "value": 80
                    },
                    {
                      "color": "#d44a3a",
                      "value": 90
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 4,
              "w": 6,
              "x": 18,
              "y": 1
            },
            "id": 7,
            "interval": null,
            "links": [],
            "maxDataPoints": 100,
            "options": {
              "orientation": "horizontal",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "showThresholdLabels": false,
              "showThresholdMarkers": true
            },
            "pluginVersion": "7.3.3",
            "targets": [
              {
                "expr": "(sum (node_filesystem_size_bytes{nodename=~\"$node\",mountpoint=\"/\"}) - sum (node_filesystem_free_bytes{nodename=~\"$node\",mountpoint=\"/\"})) / sum (node_filesystem_size_bytes{nodename=~\"$node\",mountpoint=\"/\"})",
                "format": "time_series",
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "",
                "refId": "A"
              }
            ],
            "title": "Cluster Disk Usage",
            "type": "gauge"
          },
          {
            "cacheTimeout": null,
            "datasource": "prometheus",
            "description": "Cluster CPU usage (2m)",
            "fieldConfig": {
              "defaults": {
                "custom": {},
                "decimals": 2,
                "mappings": [
                  {
                    "id": 0,
                    "op": "=",
                    "text": "N/A",
                    "type": 1,
                    "value": "null"
                  }
                ],
                "min": 0,
                "nullValueMode": "connected",
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "#299c46",
                      "value": null
                    },
                    {
                      "color": "rgba(237, 129, 40, 0.89)",
                      "value": 80
                    },
                    {
                      "color": "#d44a3a",
                      "value": 90
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 5,
              "w": 12,
              "x": 0,
              "y": 5
            },
            "id": 64,
            "interval": null,
            "links": [],
            "maxDataPoints": 100,
            "options": {
              "colorMode": "value",
              "graphMode": "area",
              "justifyMode": "auto",
              "orientation": "horizontal",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "textMode": "auto"
            },
            "pluginVersion": "7.3.3",
            "targets": [
              {
                "aggregation": "Last",
                "decimals": 2,
                "displayAliasType": "Warning / Critical",
                "displayType": "Regular",
                "displayValueWithAlias": "Never",
                "expr": "SUM(irate(container_cpu_usage_seconds_total{id=\"/\"}[2m]))",
                "format": "time_series",
                "interval": "5m",
                "intervalFactor": 1,
                "legendFormat": "",
                "refId": "A",
                "units": "none",
                "valueHandler": "Number Threshold"
              }
            ],
            "timeFrom": null,
            "timeShift": null,
            "title": "Cluster CPU Usage (2m)",
            "type": "stat"
          },
          {
            "cacheTimeout": null,
            "datasource": "prometheus",
            "description": "Cluster Memory Usage",
            "fieldConfig": {
              "defaults": {
                "custom": {},
                "decimals": 2,
                "mappings": [
                  {
                    "id": 0,
                    "op": "=",
                    "text": "N/A",
                    "type": 1,
                    "value": "null"
                  }
                ],
                "min": 0,
                "nullValueMode": "connected",
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "#299c46",
                      "value": null
                    },
                    {
                      "color": "rgba(237, 129, 40, 0.89)",
                      "value": 5600000000
                    },
                    {
                      "color": "#d44a3a",
                      "value": 5800000000
                    }
                  ]
                },
                "unit": "decbytes"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 5,
              "w": 6,
              "x": 12,
              "y": 5
            },
            "id": 65,
            "interval": null,
            "links": [],
            "maxDataPoints": 100,
            "options": {
              "colorMode": "value",
              "graphMode": "area",
              "justifyMode": "auto",
              "orientation": "horizontal",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "textMode": "auto"
            },
            "pluginVersion": "7.3.3",
            "targets": [
              {
                "aggregation": "Last",
                "decimals": 2,
                "displayAliasType": "Warning / Critical",
                "displayType": "Regular",
                "displayValueWithAlias": "Never",
                "expr": "sum(container_memory_working_set_bytes{id=\"/\"})",
                "format": "time_series",
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "",
                "refId": "A",
                "units": "none",
                "valueHandler": "Number Threshold"
              }
            ],
            "timeFrom": null,
            "timeShift": null,
            "title": "Cluster Memory Usage",
            "type": "stat"
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "prometheus",
            "description": "Shows local mounts capacity in realtime",
            "fieldConfig": {
              "defaults": {
                "custom": {}
              },
              "overrides": []
            },
            "fill": 1,
            "fillGradient": 0,
            "gridPos": {
              "h": 5,
              "w": 6,
              "x": 18,
              "y": 5
            },
            "hiddenSeries": false,
            "id": 12,
            "legend": {
              "avg": false,
              "current": true,
              "max": false,
              "min": false,
              "show": true,
              "total": false,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "nullPointMode": "null",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.3.3",
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "expr": "sum(node_filesystem_size_bytes{nodename=~\"$node\",mountpoint=\"/\"}) - sum(node_filesystem_free_bytes{nodename=~\"$node\",mountpoint=\"/\"})",
                "format": "time_series",
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "usage",
                "refId": "A"
              },
              {
                "expr": "sum(node_filesystem_size_bytes{nodename=~\"$node\",mountpoint=\"/\"})",
                "format": "time_series",
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "capacity",
                "refId": "B"
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "Cluster Disk Capacity",
            "tooltip": {
              "shared": true,
              "sort": 0,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "decbytes",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "prometheus",
            "description": "Cluster Pod capacity in real time",
            "fieldConfig": {
              "defaults": {
                "custom": {}
              },
              "overrides": []
            },
            "fill": 1,
            "fillGradient": 0,
            "gridPos": {
              "h": 5,
              "w": 6,
              "x": 0,
              "y": 10
            },
            "hiddenSeries": false,
            "id": 9,
            "legend": {
              "avg": false,
              "current": true,
              "max": false,
              "min": false,
              "show": true,
              "total": false,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "nullPointMode": "null",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.3.3",
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "expr": "sum(kube_node_status_capacity_pods{node=~\"$node\"}) - sum(kube_pod_info{node=~\"$node\"})",
                "format": "time_series",
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "allocatable",
                "refId": "A"
              },
              {
                "expr": "sum(kube_node_status_capacity_pods{node=~\"$node\"})",
                "format": "time_series",
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "capacity",
                "refId": "B"
              },
              {
                "expr": "sum(kube_pod_info{node=~\"$node\"})",
                "format": "time_series",
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "requested",
                "refId": "C"
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "Cluster Pod Capacity",
            "tooltip": {
              "shared": true,
              "sort": 0,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": "pods",
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "prometheus",
            "description": "Cluster CPU capacity in real time",
            "fieldConfig": {
              "defaults": {
                "custom": {}
              },
              "overrides": []
            },
            "fill": 1,
            "fillGradient": 0,
            "gridPos": {
              "h": 5,
              "w": 6,
              "x": 6,
              "y": 10
            },
            "hiddenSeries": false,
            "id": 66,
            "legend": {
              "avg": false,
              "current": true,
              "max": false,
              "min": false,
              "show": true,
              "total": false,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "nullPointMode": "null",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.3.3",
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "expr": "sum(kube_node_status_capacity_cpu_cores)",
                "format": "time_series",
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "capacity",
                "refId": "A"
              },
              {
                "expr": "sum(kube_node_status_allocatable_cpu_cores)",
                "format": "time_series",
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "allocatable",
                "refId": "B"
              },
              {
                "expr": "sum(kube_pod_container_resource_requests_cpu_cores)",
                "format": "time_series",
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "requested",
                "refId": "C"
              },
              {
                "expr": "SUM(irate(container_cpu_usage_seconds_total{id=\"/\"}[2m]))",
                "interval": "",
                "legendFormat": "current",
                "refId": "D"
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "Cluster CPU Capacity",
            "tooltip": {
              "shared": true,
              "sort": 0,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "none",
                "label": "cores",
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "prometheus",
            "description": "Cluster Ram memory capacity in real time",
            "fieldConfig": {
              "defaults": {
                "custom": {}
              },
              "overrides": []
            },
            "fill": 1,
            "fillGradient": 0,
            "gridPos": {
              "h": 5,
              "w": 6,
              "x": 12,
              "y": 10
            },
            "hiddenSeries": false,
            "id": 11,
            "legend": {
              "avg": false,
              "current": true,
              "max": false,
              "min": false,
              "show": true,
              "total": false,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "nullPointMode": "null",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.3.3",
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "expr": "sum(kube_node_status_capacity_memory_bytes{node=~\"$node\"}) - sum(container_memory_working_set_bytes{id=\"/\"})",
                "format": "time_series",
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "allocatable",
                "refId": "A"
              },
              {
                "expr": "sum(kube_node_status_capacity_memory_bytes{node=~\"$node\"})",
                "format": "time_series",
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "capacity",
                "refId": "B"
              },
              {
                "expr": "sum(kube_pod_container_resource_requests_memory_bytes{node=~\"$node\"})",
                "format": "time_series",
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "requested",
                "refId": "C"
              },
              {
                "expr": "sum(container_memory_working_set_bytes{id=\"/\"})",
                "interval": "",
                "legendFormat": "usage",
                "refId": "D"
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "Cluster Mem Capacity",
            "tooltip": {
              "shared": true,
              "sort": 0,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "decbytes",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "prometheus",
            "description": "Shows NFS capacity in realtime",
            "fieldConfig": {
              "defaults": {
                "custom": {}
              },
              "overrides": []
            },
            "fill": 1,
            "fillGradient": 0,
            "gridPos": {
              "h": 5,
              "w": 6,
              "x": 18,
              "y": 10
            },
            "hiddenSeries": false,
            "id": 67,
            "legend": {
              "avg": false,
              "current": true,
              "max": false,
              "min": false,
              "show": true,
              "total": false,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "nullPointMode": "null",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.3.3",
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "expr": "node_filesystem_size_bytes{instance=\"rpi-k3s-worker4\",mountpoint=\"/data\"} - node_filesystem_free_bytes{instance=\"rpi-k3s-worker4\",mountpoint=\"/data\"}",
                "format": "time_series",
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "usage",
                "refId": "A"
              },
              {
                "expr": "sum(node_filesystem_size_bytes{instance=\"rpi-k3s-worker4\",mountpoint=\"/data\"})",
                "format": "time_series",
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "capacity",
                "refId": "B"
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "Cluster NFS Capacity",
            "tooltip": {
              "shared": true,
              "sort": 0,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "decbytes",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "prometheus",
            "description": "Network Activity by Namespaces",
            "fieldConfig": {
              "defaults": {
                "custom": {}
              },
              "overrides": []
            },
            "fill": 1,
            "fillGradient": 0,
            "gridPos": {
              "h": 8,
              "w": 24,
              "x": 0,
              "y": 15
            },
            "hiddenSeries": false,
            "id": 10,
            "legend": {
              "alignAsTable": true,
              "avg": false,
              "current": true,
              "max": false,
              "min": false,
              "rightSide": true,
              "show": true,
              "sideWidth": 250,
              "total": false,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "nullPointMode": "null",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.3.3",
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "expr": "sum(rate(container_network_receive_bytes_total{}[2m])) by (namespace)",
                "format": "time_series",
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "{{namespace}}",
                "refId": "A"
              },
              {
                "expr": "- sum(rate(container_network_transmit_bytes_total{}[2m])) by (namespace)",
                "format": "time_series",
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "{{namespace}}",
                "refId": "B"
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "Cluster Network I\\O",
            "tooltip": {
              "shared": true,
              "sort": 0,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "decimals": 1,
                "format": "decbytes",
                "label": "cores",
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "collapsed": false,
            "datasource": null,
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 23
            },
            "id": 51,
            "panels": [],
            "title": "Namespaces",
            "type": "row"
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "prometheus",
            "fieldConfig": {
              "defaults": {
                "custom": {}
              },
              "overrides": []
            },
            "fill": 1,
            "fillGradient": 0,
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 0,
              "y": 24
            },
            "hiddenSeries": false,
            "id": 55,
            "legend": {
              "avg": false,
              "current": true,
              "max": false,
              "min": false,
              "rightSide": false,
              "show": true,
              "total": false,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "nullPointMode": "null",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.3.3",
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "expr": "sum(kube_pod_container_resource_requests_cpu_cores{namespace=~\"^$namespace$\"}) by (namespace)",
                "format": "time_series",
                "instant": false,
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "{{namespace}}",
                "refId": "A"
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "CPU usage",
            "tooltip": {
              "shared": true,
              "sort": 0,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "prometheus",
            "fieldConfig": {
              "defaults": {
                "custom": {}
              },
              "overrides": []
            },
            "fill": 1,
            "fillGradient": 0,
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 12,
              "y": 24
            },
            "hiddenSeries": false,
            "id": 53,
            "legend": {
              "avg": false,
              "current": true,
              "max": false,
              "min": false,
              "show": true,
              "total": false,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "nullPointMode": "null",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.3.3",
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "expr": "sum(kube_pod_container_resource_requests_memory_bytes{namespace=~\"^$namespace$\"}) by (namespace)",
                "format": "time_series",
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "{{namespace}}",
                "refId": "A"
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "Memory usage",
            "tooltip": {
              "shared": true,
              "sort": 0,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "bytes",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "collapsed": false,
            "datasource": null,
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 32
            },
            "id": 57,
            "panels": [],
            "title": "Statefulsets",
            "type": "row"
          },
          {
            "columns": [
              {
                "text": "Current",
                "value": "current"
              }
            ],
            "datasource": "prometheus",
            "fieldConfig": {
              "defaults": {
                "custom": {}
              },
              "overrides": []
            },
            "fontSize": "100%",
            "gridPos": {
              "h": 5,
              "w": 24,
              "x": 0,
              "y": 33
            },
            "id": 59,
            "links": [],
            "pageSize": null,
            "scroll": true,
            "showHeader": true,
            "sort": {
              "col": 1,
              "desc": true
            },
            "styles": [
              {
                "alias": "Time",
                "align": "auto",
                "dateFormat": "YYYY-MM-DD HH:mm:ss",
                "pattern": "Time",
                "type": "date"
              },
              {
                "alias": "",
                "align": "auto",
                "colorMode": "row",
                "colors": [
                  "rgba(245, 54, 54, 0.9)",
                  "rgba(237, 129, 40, 0.89)",
                  "rgb(14, 56, 35)"
                ],
                "decimals": 0,
                "pattern": "Metric",
                "thresholds": [
                  "0",
                  "0",
                  ".9"
                ],
                "type": "string",
                "unit": "none"
              },
              {
                "alias": "",
                "align": "auto",
                "colorMode": "row",
                "colors": [
                  "rgba(245, 54, 54, 0.9)",
                  "rgba(237, 129, 40, 0.89)",
                  "rgb(14, 56, 35)"
                ],
                "dateFormat": "YYYY-MM-DD HH:mm:ss",
                "decimals": 0,
                "link": false,
                "pattern": "Value",
                "thresholds": [
                  "0",
                  "1"
                ],
                "type": "number",
                "unit": "none"
              }
            ],
            "targets": [
              {
                "expr": "kube_statefulset_status_replicas{namespace=~\"$namespace\"}",
                "format": "time_series",
                "instant": true,
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "{{ statefulset}}",
                "refId": "A"
              }
            ],
            "title": "Statefulset - Up To Date",
            "transform": "timeseries_to_rows",
            "type": "table-old"
          },
          {
            "cacheTimeout": null,
            "datasource": "prometheus",
            "description": "Number replicas of Statefulset with state Available",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "custom": {},
                "mappings": [
                  {
                    "id": 0,
                    "op": "=",
                    "text": "N/A",
                    "type": 1,
                    "value": "null"
                  }
                ],
                "nullValueMode": "connected",
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "dark-green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 3,
              "w": 12,
              "x": 0,
              "y": 38
            },
            "id": 61,
            "interval": null,
            "links": [],
            "maxDataPoints": 100,
            "options": {
              "colorMode": "value",
              "graphMode": "area",
              "justifyMode": "auto",
              "orientation": "horizontal",
              "reduceOptions": {
                "calcs": [
                  "mean"
                ],
                "fields": "",
                "values": false
              },
              "textMode": "auto"
            },
            "pluginVersion": "7.3.3",
            "targets": [
              {
                "expr": "sum(kube_statefulset_status_replicas{namespace=~\"$namespace\"})",
                "format": "time_series",
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "",
                "refId": "A"
              }
            ],
            "title": "Statefulset Replicas",
            "type": "stat"
          },
          {
            "cacheTimeout": null,
            "datasource": "prometheus",
            "description": "Number replicas of Stateful with state Ready",
            "fieldConfig": {
              "defaults": {
                "custom": {},
                "mappings": [
                  {
                    "id": 0,
                    "op": "=",
                    "text": "N/A",
                    "type": 1,
                    "value": "null"
                  }
                ],
                "nullValueMode": "connected",
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "dark-green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 3,
              "w": 12,
              "x": 12,
              "y": 38
            },
            "id": 63,
            "interval": null,
            "links": [],
            "maxDataPoints": 100,
            "options": {
              "colorMode": "value",
              "graphMode": "area",
              "justifyMode": "auto",
              "orientation": "horizontal",
              "reduceOptions": {
                "calcs": [
                  "mean"
                ],
                "fields": "",
                "values": false
              },
              "textMode": "auto"
            },
            "pluginVersion": "7.3.3",
            "targets": [
              {
                "expr": "sum(kube_statefulset_status_replicas_ready{namespace=~\"$namespace\"})",
                "format": "time_series",
                "intervalFactor": 1,
                "refId": "A"
              }
            ],
            "title": "Statefulset Replicas - Ready",
            "type": "stat"
          },
          {
            "collapsed": false,
            "datasource": null,
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 41
            },
            "id": 14,
            "panels": [],
            "title": "Deployments",
            "type": "row"
          },
          {
            "columns": [
              {
                "text": "Current",
                "value": "current"
              }
            ],
            "datasource": "prometheus",
            "fieldConfig": {
              "defaults": {
                "custom": {}
              },
              "overrides": []
            },
            "fontSize": "100%",
            "gridPos": {
              "h": 9,
              "w": 24,
              "x": 0,
              "y": 42
            },
            "id": 16,
            "links": [],
            "pageSize": null,
            "scroll": true,
            "showHeader": true,
            "sort": {
              "col": 1,
              "desc": true
            },
            "styles": [
              {
                "alias": "Time",
                "align": "auto",
                "dateFormat": "YYYY-MM-DD HH:mm:ss",
                "pattern": "Time",
                "type": "date"
              },
              {
                "alias": "",
                "align": "auto",
                "colorMode": "row",
                "colors": [
                  "rgba(245, 54, 54, 0.9)",
                  "rgba(237, 129, 40, 0.89)",
                  "rgb(14, 56, 35)"
                ],
                "decimals": 0,
                "pattern": "Metric",
                "thresholds": [
                  "0",
                  "0",
                  ".9"
                ],
                "type": "string",
                "unit": "none"
              },
              {
                "alias": "",
                "align": "auto",
                "colorMode": "row",
                "colors": [
                  "rgba(245, 54, 54, 0.9)",
                  "rgba(237, 129, 40, 0.89)",
                  "rgb(14, 56, 35)"
                ],
                "dateFormat": "YYYY-MM-DD HH:mm:ss",
                "decimals": 0,
                "link": false,
                "pattern": "Value",
                "thresholds": [
                  "0",
                  "1"
                ],
                "type": "number",
                "unit": "none"
              }
            ],
            "targets": [
              {
                "expr": "kube_deployment_status_replicas{namespace=~\"$namespace\"}",
                "format": "time_series",
                "instant": true,
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "{{ deployment }}",
                "refId": "A"
              }
            ],
            "title": "Deployment Replicas - Up To Date",
            "transform": "timeseries_to_rows",
            "type": "table-old"
          },
          {
            "cacheTimeout": null,
            "datasource": "prometheus",
            "description": "Number replicas of Deployment with state Available",
            "fieldConfig": {
              "defaults": {
                "custom": {},
                "mappings": [
                  {
                    "id": 0,
                    "op": "=",
                    "text": "N/A",
                    "type": 1,
                    "value": "null"
                  }
                ],
                "nullValueMode": "connected",
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 3,
              "w": 8,
              "x": 0,
              "y": 51
            },
            "id": 19,
            "interval": null,
            "links": [],
            "maxDataPoints": 100,
            "options": {
              "colorMode": "value",
              "graphMode": "area",
              "justifyMode": "auto",
              "orientation": "horizontal",
              "reduceOptions": {
                "calcs": [
                  "mean"
                ],
                "fields": "",
                "values": false
              },
              "textMode": "auto"
            },
            "pluginVersion": "7.3.3",
            "targets": [
              {
                "expr": "sum(kube_deployment_status_replicas_updated{namespace=~\"$namespace\"})",
                "format": "time_series",
                "intervalFactor": 1,
                "refId": "A"
              }
            ],
            "title": "Deployment Replicas - Available",
            "type": "stat"
          },
          {
            "cacheTimeout": null,
            "datasource": "prometheus",
            "description": "Total number replicas of Deployment",
            "fieldConfig": {
              "defaults": {
                "custom": {},
                "mappings": [
                  {
                    "id": 0,
                    "op": "=",
                    "text": "N/A",
                    "type": 1,
                    "value": "null"
                  }
                ],
                "nullValueMode": "connected",
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 3,
              "w": 8,
              "x": 8,
              "y": 51
            },
            "id": 18,
            "interval": null,
            "links": [],
            "maxDataPoints": 100,
            "options": {
              "colorMode": "value",
              "graphMode": "area",
              "justifyMode": "auto",
              "orientation": "horizontal",
              "reduceOptions": {
                "calcs": [
                  "mean"
                ],
                "fields": "",
                "values": false
              },
              "textMode": "auto"
            },
            "pluginVersion": "7.3.3",
            "targets": [
              {
                "expr": "sum(kube_deployment_status_replicas{namespace=~\"$namespace\"})+sum(kube_deployment_status_replicas_unavailable{namespace=~\"$namespace\"})",
                "format": "time_series",
                "intervalFactor": 1,
                "refId": "A"
              }
            ],
            "title": "Deployment Replicas - Total",
            "type": "stat"
          },
          {
            "cacheTimeout": null,
            "datasource": "prometheus",
            "description": "Number replicas of Deployment with state Unavailable",
            "fieldConfig": {
              "defaults": {
                "custom": {},
                "decimals": 2,
                "mappings": [
                  {
                    "id": 0,
                    "op": "=",
                    "text": "N/A",
                    "type": 1,
                    "value": "null"
                  }
                ],
                "nullValueMode": "connected",
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 3,
              "w": 8,
              "x": 16,
              "y": 51
            },
            "id": 20,
            "interval": null,
            "links": [],
            "maxDataPoints": 100,
            "options": {
              "colorMode": "value",
              "graphMode": "area",
              "justifyMode": "auto",
              "orientation": "horizontal",
              "reduceOptions": {
                "calcs": [
                  "mean"
                ],
                "fields": "",
                "values": false
              },
              "textMode": "auto"
            },
            "pluginVersion": "7.3.3",
            "targets": [
              {
                "expr": "sum(kube_deployment_status_replicas_unavailable{namespace=~\"$namespace\"})",
                "format": "time_series",
                "intervalFactor": 1,
                "refId": "A"
              }
            ],
            "title": "Deployment Replicas - Unavailable",
            "type": "stat"
          },
          {
            "collapsed": false,
            "datasource": null,
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 54
            },
            "id": 22,
            "panels": [],
            "title": "Node",
            "type": "row"
          },
          {
            "cacheTimeout": null,
            "datasource": "prometheus",
            "fieldConfig": {
              "defaults": {
                "custom": {},
                "mappings": [
                  {
                    "id": 0,
                    "op": "=",
                    "text": "N/A",
                    "type": 1,
                    "value": "null"
                  }
                ],
                "nullValueMode": "connected",
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 3,
              "w": 8,
              "x": 0,
              "y": 55
            },
            "id": 24,
            "interval": null,
            "links": [],
            "maxDataPoints": 100,
            "options": {
              "colorMode": "value",
              "graphMode": "none",
              "justifyMode": "auto",
              "orientation": "horizontal",
              "reduceOptions": {
                "calcs": [
                  "mean"
                ],
                "fields": "",
                "values": false
              },
              "textMode": "auto"
            },
            "pluginVersion": "7.3.3",
            "targets": [
              {
                "expr": "sum(kube_node_info{node=~\"$node\"})",
                "format": "time_series",
                "intervalFactor": 1,
                "refId": "A"
              }
            ],
            "title": "Number Of Nodes",
            "type": "stat"
          },
          {
            "cacheTimeout": null,
            "datasource": "prometheus",
            "fieldConfig": {
              "defaults": {
                "custom": {},
                "mappings": [
                  {
                    "id": 0,
                    "op": "=",
                    "text": "N/A",
                    "type": 1,
                    "value": "null"
                  }
                ],
                "nullValueMode": "connected",
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "#299c46",
                      "value": null
                    },
                    {
                      "color": "rgba(237, 129, 40, 0.89)",
                      "value": 1
                    },
                    {
                      "color": "#d44a3a"
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 3,
              "w": 8,
              "x": 8,
              "y": 55
            },
            "id": 25,
            "interval": null,
            "links": [],
            "maxDataPoints": 100,
            "options": {
              "colorMode": "value",
              "graphMode": "none",
              "justifyMode": "auto",
              "orientation": "horizontal",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "textMode": "auto"
            },
            "pluginVersion": "7.3.3",
            "targets": [
              {
                "expr": "sum(kube_node_status_condition{condition=\"OutOfDisk\", node=~\"$node\", status=\"true\"})",
                "format": "time_series",
                "intervalFactor": 1,
                "refId": "A"
              }
            ],
            "title": "Nodes Out of Disk",
            "type": "stat"
          },
          {
            "cacheTimeout": null,
            "datasource": "prometheus",
            "fieldConfig": {
              "defaults": {
                "custom": {},
                "mappings": [
                  {
                    "id": 0,
                    "op": "=",
                    "text": "N/A",
                    "type": 1,
                    "value": "null"
                  }
                ],
                "nullValueMode": "connected",
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "#299c46",
                      "value": null
                    },
                    {
                      "color": "rgba(237, 129, 40, 0.89)",
                      "value": 1
                    },
                    {
                      "color": "#d44a3a"
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 3,
              "w": 8,
              "x": 16,
              "y": 55
            },
            "id": 26,
            "interval": null,
            "links": [],
            "maxDataPoints": 100,
            "options": {
              "colorMode": "value",
              "graphMode": "none",
              "justifyMode": "auto",
              "orientation": "horizontal",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "textMode": "auto"
            },
            "pluginVersion": "7.3.3",
            "targets": [
              {
                "expr": "sum(kube_node_spec_unschedulable{node=~\"$node\"})",
                "format": "time_series",
                "intervalFactor": 1,
                "refId": "A"
              }
            ],
            "title": "Nodes Unavailable",
            "type": "stat"
          },
          {
            "collapsed": false,
            "datasource": null,
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 58
            },
            "id": 28,
            "panels": [],
            "title": "Pods",
            "type": "row"
          },
          {
            "cacheTimeout": null,
            "datasource": "prometheus",
            "fieldConfig": {
              "defaults": {
                "custom": {},
                "mappings": [
                  {
                    "id": 0,
                    "op": "=",
                    "text": "N/A",
                    "type": 1,
                    "value": "null"
                  }
                ],
                "nullValueMode": "connected",
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 3,
              "w": 12,
              "x": 0,
              "y": 59
            },
            "id": 30,
            "interval": null,
            "links": [],
            "maxDataPoints": 100,
            "options": {
              "colorMode": "value",
              "graphMode": "area",
              "justifyMode": "auto",
              "orientation": "horizontal",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "textMode": "auto"
            },
            "pluginVersion": "7.3.3",
            "targets": [
              {
                "expr": "sum(kube_pod_status_phase{namespace=~\"$namespace\", phase=\"Running\"})",
                "format": "time_series",
                "interval": "",
                "intervalFactor": 1,
                "refId": "A"
              }
            ],
            "title": "Pods Running",
            "type": "stat"
          },
          {
            "cacheTimeout": null,
            "datasource": "prometheus",
            "fieldConfig": {
              "defaults": {
                "custom": {},
                "mappings": [
                  {
                    "id": 0,
                    "op": "=",
                    "text": "N/A",
                    "type": 1,
                    "value": "null"
                  }
                ],
                "nullValueMode": "connected",
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 3,
              "w": 12,
              "x": 12,
              "y": 59
            },
            "id": 31,
            "interval": null,
            "links": [],
            "maxDataPoints": 100,
            "options": {
              "colorMode": "value",
              "graphMode": "area",
              "justifyMode": "auto",
              "orientation": "horizontal",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "textMode": "auto"
            },
            "pluginVersion": "7.3.3",
            "targets": [
              {
                "expr": "sum(kube_pod_status_phase{namespace=~\"$namespace\", phase=\"Pending\"})",
                "format": "time_series",
                "interval": "",
                "intervalFactor": 1,
                "refId": "A"
              }
            ],
            "title": "Pods Pending",
            "type": "stat"
          },
          {
            "cacheTimeout": null,
            "datasource": "prometheus",
            "fieldConfig": {
              "defaults": {
                "custom": {},
                "mappings": [
                  {
                    "id": 0,
                    "op": "=",
                    "text": "N/A",
                    "type": 1,
                    "value": "null"
                  }
                ],
                "nullValueMode": "connected",
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 3,
              "w": 8,
              "x": 0,
              "y": 62
            },
            "id": 32,
            "interval": null,
            "links": [],
            "maxDataPoints": 100,
            "options": {
              "colorMode": "value",
              "graphMode": "area",
              "justifyMode": "auto",
              "orientation": "horizontal",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "textMode": "auto"
            },
            "pluginVersion": "7.3.3",
            "targets": [
              {
                "expr": "sum(kube_pod_status_phase{namespace=~\"$namespace\", phase=\"Failed\"})",
                "format": "time_series",
                "interval": "",
                "intervalFactor": 1,
                "refId": "A"
              }
            ],
            "title": "Pods Failed",
            "type": "stat"
          },
          {
            "cacheTimeout": null,
            "datasource": "prometheus",
            "fieldConfig": {
              "defaults": {
                "custom": {},
                "mappings": [
                  {
                    "id": 0,
                    "op": "=",
                    "text": "N/A",
                    "type": 1,
                    "value": "null"
                  }
                ],
                "nullValueMode": "connected",
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 3,
              "w": 8,
              "x": 8,
              "y": 62
            },
            "id": 33,
            "interval": null,
            "links": [],
            "maxDataPoints": 100,
            "options": {
              "colorMode": "value",
              "graphMode": "area",
              "justifyMode": "auto",
              "orientation": "horizontal",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "textMode": "auto"
            },
            "pluginVersion": "7.3.3",
            "targets": [
              {
                "expr": "sum(kube_pod_status_phase{namespace=~\"$namespace\", phase=\"Succeeded\"})",
                "format": "time_series",
                "interval": "",
                "intervalFactor": 1,
                "refId": "A"
              }
            ],
            "title": "Pods Succeeded",
            "type": "stat"
          },
          {
            "cacheTimeout": null,
            "datasource": "prometheus",
            "fieldConfig": {
              "defaults": {
                "custom": {},
                "mappings": [
                  {
                    "id": 0,
                    "op": "=",
                    "text": "N/A",
                    "type": 1,
                    "value": "null"
                  }
                ],
                "nullValueMode": "connected",
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 3,
              "w": 8,
              "x": 16,
              "y": 62
            },
            "id": 34,
            "interval": null,
            "links": [],
            "maxDataPoints": 100,
            "options": {
              "colorMode": "value",
              "graphMode": "area",
              "justifyMode": "auto",
              "orientation": "horizontal",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "textMode": "auto"
            },
            "pluginVersion": "7.3.3",
            "targets": [
              {
                "expr": "sum(kube_pod_status_phase{namespace=~\"$namespace\", phase=\"Unknown\"})",
                "format": "time_series",
                "interval": "",
                "intervalFactor": 1,
                "refId": "A"
              }
            ],
            "title": "Pods Unknown",
            "type": "stat"
          },
          {
            "collapsed": false,
            "datasource": null,
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 65
            },
            "id": 36,
            "panels": [],
            "title": "Containers",
            "type": "row"
          },
          {
            "cacheTimeout": null,
            "datasource": "prometheus",
            "fieldConfig": {
              "defaults": {
                "custom": {},
                "mappings": [
                  {
                    "id": 0,
                    "op": "=",
                    "text": "N/A",
                    "type": 1,
                    "value": "null"
                  }
                ],
                "nullValueMode": "connected",
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "dark-green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 3,
              "w": 6,
              "x": 0,
              "y": 66
            },
            "id": 38,
            "interval": null,
            "links": [],
            "maxDataPoints": 100,
            "options": {
              "colorMode": "value",
              "graphMode": "area",
              "justifyMode": "auto",
              "orientation": "horizontal",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "textMode": "auto"
            },
            "pluginVersion": "7.3.3",
            "targets": [
              {
                "expr": "sum(kube_pod_container_status_running{namespace=~\"$namespace\"})",
                "format": "time_series",
                "intervalFactor": 1,
                "refId": "A"
              }
            ],
            "title": "Containers Running",
            "type": "stat"
          },
          {
            "cacheTimeout": null,
            "datasource": "prometheus",
            "fieldConfig": {
              "defaults": {
                "custom": {},
                "mappings": [
                  {
                    "id": 0,
                    "op": "=",
                    "text": "N/A",
                    "type": 1,
                    "value": "null"
                  }
                ],
                "nullValueMode": "connected",
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "dark-green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 10
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 3,
              "w": 6,
              "x": 6,
              "y": 66
            },
            "id": 39,
            "interval": null,
            "links": [],
            "maxDataPoints": 100,
            "options": {
              "colorMode": "value",
              "graphMode": "area",
              "justifyMode": "auto",
              "orientation": "horizontal",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "textMode": "auto"
            },
            "pluginVersion": "7.3.3",
            "targets": [
              {
                "expr": "sum(kube_pod_container_status_waiting{namespace=~\"$namespace\"})",
                "format": "time_series",
                "intervalFactor": 1,
                "refId": "A"
              }
            ],
            "title": "Containers Waiting",
            "type": "stat"
          },
          {
            "cacheTimeout": null,
            "datasource": "prometheus",
            "fieldConfig": {
              "defaults": {
                "custom": {},
                "mappings": [
                  {
                    "id": 0,
                    "op": "=",
                    "text": "N/A",
                    "type": 1,
                    "value": "null"
                  }
                ],
                "nullValueMode": "connected",
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 3,
              "w": 6,
              "x": 12,
              "y": 66
            },
            "id": 40,
            "interval": null,
            "links": [],
            "maxDataPoints": 100,
            "options": {
              "colorMode": "value",
              "graphMode": "area",
              "justifyMode": "auto",
              "orientation": "horizontal",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "textMode": "auto"
            },
            "pluginVersion": "7.3.3",
            "targets": [
              {
                "expr": "sum(kube_pod_container_status_terminated{namespace=~\"$namespace\"})",
                "format": "time_series",
                "intervalFactor": 1,
                "refId": "A"
              }
            ],
            "title": "Containers Terminated",
            "type": "stat"
          },
          {
            "cacheTimeout": null,
            "datasource": "prometheus",
            "fieldConfig": {
              "defaults": {
                "custom": {},
                "mappings": [
                  {
                    "id": 0,
                    "op": "=",
                    "text": "N/A",
                    "type": 1,
                    "value": "null"
                  }
                ],
                "nullValueMode": "connected",
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 3,
              "w": 6,
              "x": 18,
              "y": 66
            },
            "id": 41,
            "interval": null,
            "links": [],
            "maxDataPoints": 100,
            "options": {
              "colorMode": "value",
              "graphMode": "area",
              "justifyMode": "auto",
              "orientation": "horizontal",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "textMode": "auto"
            },
            "pluginVersion": "7.3.3",
            "targets": [
              {
                "expr": "sum(delta(kube_pod_container_status_restarts{namespace=\"kube-system\"}[30m]))",
                "format": "time_series",
                "intervalFactor": 1,
                "refId": "A"
              }
            ],
            "title": "Containers Restarts (Last 30 Minutes)",
            "type": "stat"
          },
          {
            "cacheTimeout": null,
            "datasource": "prometheus",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "custom": {},
                "mappings": [
                  {
                    "id": 0,
                    "op": "=",
                    "text": "N/A",
                    "type": 1,
                    "value": "null"
                  }
                ],
                "nullValueMode": "connected",
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "dark-green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 20
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 3,
              "w": 12,
              "x": 0,
              "y": 69
            },
            "id": 43,
            "interval": null,
            "links": [],
            "maxDataPoints": 100,
            "options": {
              "colorMode": "value",
              "graphMode": "area",
              "justifyMode": "auto",
              "orientation": "horizontal",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "textMode": "auto"
            },
            "pluginVersion": "7.3.3",
            "targets": [
              {
                "expr": "sum(kube_pod_container_resource_requests_cpu_cores{namespace=~\"$namespace\", node=~\"$node\"})",
                "format": "time_series",
                "intervalFactor": 1,
                "refId": "A"
              }
            ],
            "title": "CPU Cores Requested by Containers",
            "type": "stat"
          },
          {
            "cacheTimeout": null,
            "datasource": "prometheus",
            "fieldConfig": {
              "defaults": {
                "custom": {},
                "mappings": [
                  {
                    "id": 0,
                    "op": "=",
                    "text": "N/A",
                    "type": 1,
                    "value": "null"
                  }
                ],
                "nullValueMode": "connected",
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "dark-orange",
                      "value": 5500000000
                    },
                    {
                      "color": "red",
                      "value": 5800000000
                    }
                  ]
                },
                "unit": "decbytes"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 3,
              "w": 12,
              "x": 12,
              "y": 69
            },
            "id": 42,
            "interval": null,
            "links": [],
            "maxDataPoints": 100,
            "options": {
              "colorMode": "value",
              "graphMode": "area",
              "justifyMode": "auto",
              "orientation": "horizontal",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "textMode": "auto"
            },
            "pluginVersion": "7.3.3",
            "targets": [
              {
                "expr": "sum(kube_pod_container_resource_requests_memory_bytes{namespace=~\"$namespace\", node=~\"$node\"})",
                "format": "time_series",
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "",
                "refId": "A"
              }
            ],
            "title": "Memory Requested By Containers",
            "type": "stat"
          },
          {
            "collapsed": false,
            "datasource": null,
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 72
            },
            "id": 45,
            "panels": [],
            "title": "Jobs",
            "type": "row"
          },
          {
            "cacheTimeout": null,
            "datasource": "prometheus",
            "fieldConfig": {
              "defaults": {
                "custom": {},
                "mappings": [
                  {
                    "id": 0,
                    "op": "=",
                    "text": "N/A",
                    "type": 1,
                    "value": "null"
                  }
                ],
                "nullValueMode": "connected",
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 3,
              "w": 8,
              "x": 0,
              "y": 73
            },
            "id": 47,
            "interval": null,
            "links": [],
            "maxDataPoints": 100,
            "options": {
              "colorMode": "value",
              "graphMode": "area",
              "justifyMode": "auto",
              "orientation": "horizontal",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "textMode": "auto"
            },
            "pluginVersion": "7.3.3",
            "targets": [
              {
                "expr": "sum(kube_job_status_succeeded{namespace=~\"$namespace\"})",
                "format": "time_series",
                "intervalFactor": 1,
                "refId": "A"
              }
            ],
            "title": "Jobs Succeeded",
            "type": "stat"
          },
          {
            "cacheTimeout": null,
            "datasource": "prometheus",
            "fieldConfig": {
              "defaults": {
                "custom": {},
                "mappings": [
                  {
                    "id": 0,
                    "op": "=",
                    "text": "N/A",
                    "type": 1,
                    "value": "null"
                  }
                ],
                "nullValueMode": "connected",
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 3,
              "w": 8,
              "x": 8,
              "y": 73
            },
            "id": 48,
            "interval": null,
            "links": [],
            "maxDataPoints": 100,
            "options": {
              "colorMode": "value",
              "graphMode": "area",
              "justifyMode": "auto",
              "orientation": "horizontal",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "textMode": "auto"
            },
            "pluginVersion": "7.3.3",
            "targets": [
              {
                "expr": "sum(kube_job_status_active{namespace=~\"$namespace\"})",
                "format": "time_series",
                "intervalFactor": 1,
                "refId": "A"
              }
            ],
            "title": "Jobs Succeeded",
            "type": "stat"
          },
          {
            "cacheTimeout": null,
            "datasource": "prometheus",
            "fieldConfig": {
              "defaults": {
                "custom": {},
                "mappings": [
                  {
                    "id": 0,
                    "op": "=",
                    "text": "N/A",
                    "type": 1,
                    "value": "null"
                  }
                ],
                "nullValueMode": "connected",
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 10
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 3,
              "w": 8,
              "x": 16,
              "y": 73
            },
            "id": 49,
            "interval": null,
            "links": [],
            "maxDataPoints": 100,
            "options": {
              "colorMode": "value",
              "graphMode": "area",
              "justifyMode": "auto",
              "orientation": "horizontal",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "textMode": "auto"
            },
            "pluginVersion": "7.3.3",
            "targets": [
              {
                "expr": "sum(kube_job_status_failed{namespace=~\"$namespace\"})",
                "format": "time_series",
                "intervalFactor": 1,
                "refId": "A"
              }
            ],
            "title": "Jobs Failed",
            "type": "stat"
          }
        ],
        "refresh": false,
        "schemaVersion": 26,
        "style": "dark",
        "tags": [
          "k3s",
          "custom"
        ],
        "templating": {
          "list": [
            {
              "current": {
                "selected": false,
                "text": "No data sources found",
                "value": ""
              },
              "error": null,
              "hide": 2,
              "includeAll": false,
              "label": "",
              "multi": false,
              "name": "datasource",
              "options": [],
              "query": "prometheus",
              "refresh": 1,
              "regex": "/$ds/",
              "skipUrlSync": false,
              "type": "datasource"
            },
            {
              "current": {
                "text": ".*",
                "value": ".*"
              },
              "error": null,
              "hide": 0,
              "label": null,
              "name": "node",
              "options": [
                {
                  "text": ".*",
                  "value": ".*"
                }
              ],
              "query": ".*",
              "queryValue": "",
              "skipUrlSync": false,
              "type": "constant"
            },
            {
              "allValue": ".*",
              "current": {
                "selected": false,
                "text": "All",
                "value": "$__all"
              },
              "datasource": "prometheus",
              "definition": "",
              "error": null,
              "hide": 0,
              "includeAll": true,
              "label": null,
              "multi": false,
              "name": "namespace",
              "options": [],
              "query": "label_values(namespace)",
              "refresh": 2,
              "regex": "",
              "skipUrlSync": false,
              "sort": 0,
              "tagValuesQuery": "",
              "tags": [],
              "tagsQuery": "",
              "type": "query",
              "useTags": false
            }
          ]
        },
        "time": {
          "from": "now-30m",
          "to": "now"
        },
        "timepicker": {
          "refresh_intervals": [
            "5s",
            "10s",
            "30s",
            "1m",
            "5m",
            "15m",
            "30m",
            "1h",
            "2h",
            "1d"
          ],
          "time_options": [
            "5m",
            "15m",
            "1h",
            "6h",
            "12h",
            "24h",
            "2d",
            "7d",
            "30d"
          ]
        },
        "timezone": "browser",
        "title": "K8s Cluster Metrics",
        "uid": "shpaq-02",
        "version": 1
      }
- apiVersion: v1
  kind: ConfigMap
  metadata:
    name: grafana-kubernetes-cluster
    namespace: monitoring
  data:
    kubernetes-cluster.json: |-
      {
        "annotations": {
          "list": [{
            "builtIn": 1,
            "datasource": "-- Grafana --",
            "enable": true,
            "hide": true,
            "iconColor": "rgba(0, 211, 255, 1)",
            "name": "Annotations & Alerts",
            "type": "dashboard"
          }]
        },
        "description": "Monitor a Kubernetes cluster using Prometheus TSDB.  Shows overall cluster CPU / Memory / Disk usage as well as individual pod statistics. ",
        "editable": true,
        "gnetId": 162,
        "graphTooltip": 1,
        "links": [],
        "panels": [{
            "cacheTimeout": null,
            "colorBackground": false,
            "colorValue": false,
            "colors": [
              "rgba(50, 172, 45, 0.97)",
              "rgba(237, 129, 40, 0.89)",
              "rgba(245, 54, 54, 0.9)"
            ],
            "datasource": "prometheus",
            "editable": true,
            "error": false,
            "fieldConfig": {
              "defaults": {
                "custom": {}
              },
              "overrides": []
            },
            "format": "percent",
            "gauge": {
              "maxValue": 100,
              "minValue": 0,
              "show": true,
              "thresholdLabels": false,
              "thresholdMarkers": true
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 0,
              "y": 0
            },
            "id": 4,
            "interval": null,
            "isNew": true,
            "links": [],
            "mappingType": 1,
            "mappingTypes": [{
                "name": "value to text",
                "value": 1
              },
              {
                "name": "range to text",
                "value": 2
              }
            ],
            "maxDataPoints": 100,
            "nullPointMode": "connected",
            "nullText": null,
            "postfix": "",
            "postfixFontSize": "50%",
            "prefix": "",
            "prefixFontSize": "50%",
            "rangeMaps": [{
              "from": "null",
              "text": "N/A",
              "to": "null"
            }],
            "sparkline": {
              "fillColor": "rgba(31, 118, 189, 0.18)",
              "full": false,
              "lineColor": "rgb(31, 120, 193)",
              "show": false
            },
            "tableColumn": "",
            "targets": [{
              "expr": "(sum(node_memory_MemTotal_bytes) - sum(node_memory_MemFree_bytes+node_memory_Buffers_bytes+node_memory_Cached_bytes) ) / sum(node_memory_MemTotal_bytes) * 100",
              "format": "time_series",
              "interval": "10s",
              "intervalFactor": 1,
              "refId": "A",
              "step": 10
            }],
            "thresholds": "65, 90",
            "title": "Cluster memory usage",
            "type": "singlestat",
            "valueFontSize": "80%",
            "valueMaps": [{
              "op": "=",
              "text": "N/A",
              "value": "null"
            }],
            "valueName": "current"
          },
          {
            "cacheTimeout": null,
            "colorBackground": true,
            "colorValue": false,
            "colors": [
              "rgba(0, 0, 0, 0)",
              "rgb(210, 1, 1)",
              "#890f02"
            ],
            "datasource": "prometheus",
            "fieldConfig": {
              "defaults": {
                "custom": {}
              },
              "overrides": []
            },
            "format": "percentunit",
            "gauge": {
              "maxValue": 100,
              "minValue": 0,
              "show": false,
              "thresholdLabels": false,
              "thresholdMarkers": true
            },
            "gridPos": {
              "h": 2,
              "w": 8,
              "x": 8,
              "y": 0
            },
            "id": 23,
            "interval": null,
            "links": [],
            "mappingType": 1,
            "mappingTypes": [{
                "name": "value to text",
                "value": 1
              },
              {
                "name": "range to text",
                "value": 2
              }
            ],
            "maxDataPoints": 100,
            "nullPointMode": "connected",
            "nullText": null,
            "postfix": "",
            "postfixFontSize": "50%",
            "prefix": "",
            "prefixFontSize": "50%",
            "rangeMaps": [{
              "from": "null",
              "text": "N/A",
              "to": "null"
            }],
            "sparkline": {
              "fillColor": "rgba(31, 118, 189, 0.18)",
              "full": false,
              "lineColor": "rgb(31, 120, 193)",
              "show": false
            },
            "tableColumn": "{job=\"kubelet\"}",
            "targets": [{
              "expr": "avg(up{job=\"kubelet\"}) BY (job)",
              "format": "time_series",
              "instant": true,
              "intervalFactor": 1,
              "legendFormat": "",
              "refId": "A"
            }],
            "thresholds": "1.1",
            "title": "Up Nodes",
            "type": "singlestat",
            "valueFontSize": "120%",
            "valueMaps": [{
              "op": "=",
              "text": "N/A",
              "value": "null"
            }],
            "valueName": "avg"
          },
          {
            "cacheTimeout": null,
            "colorBackground": false,
            "colorValue": false,
            "colors": [
              "rgba(50, 172, 45, 0.97)",
              "rgba(237, 129, 40, 0.89)",
              "rgba(245, 54, 54, 0.9)"
            ],
            "datasource": "prometheus",
            "decimals": 0,
            "editable": true,
            "error": false,
            "fieldConfig": {
              "defaults": {
                "custom": {}
              },
              "overrides": []
            },
            "format": "percent",
            "gauge": {
              "maxValue": 100,
              "minValue": 0,
              "show": true,
              "thresholdLabels": false,
              "thresholdMarkers": true
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 16,
              "y": 0
            },
            "id": 6,
            "interval": null,
            "isNew": true,
            "links": [],
            "mappingType": 1,
            "mappingTypes": [{
                "name": "value to text",
                "value": 1
              },
              {
                "name": "range to text",
                "value": 2
              }
            ],
            "maxDataPoints": 100,
            "nullPointMode": "connected",
            "nullText": null,
            "postfix": "",
            "postfixFontSize": "50%",
            "prefix": "",
            "prefixFontSize": "50%",
            "rangeMaps": [{
              "from": "null",
              "text": "N/A",
              "to": "null"
            }],
            "sparkline": {
              "fillColor": "rgba(31, 118, 189, 0.18)",
              "full": false,
              "lineColor": "rgb(31, 120, 193)",
              "show": false
            },
            "tableColumn": "",
            "targets": [{
              "expr": "avg(100 - (avg by (instance) (irate(node_cpu_seconds_total{job=\"node-exporter\",mode=\"idle\"}[5m])) * 100))",
              "format": "time_series",
              "interval": "10s",
              "intervalFactor": 1,
              "refId": "A",
              "step": 10
            }],
            "thresholds": "65, 90",
            "title": "Cluster CPU usage",
            "type": "singlestat",
            "valueFontSize": "80%",
            "valueMaps": [{
              "op": "=",
              "text": "N/A",
              "value": "null"
            }],
            "valueName": "current"
          },
          {
            "columns": [],
            "datasource": "prometheus",
            "fieldConfig": {
              "defaults": {
                "custom": {}
              },
              "overrides": []
            },
            "fontSize": "90%",
            "gridPos": {
              "h": 5,
              "w": 8,
              "x": 8,
              "y": 2
            },
            "id": 25,
            "links": [],
            "pageSize": null,
            "scroll": true,
            "showHeader": true,
            "sort": {
              "col": 2,
              "desc": false
            },
            "styles": [{
                "alias": "Time",
                "align": "auto",
                "dateFormat": "YYYY-MM-DD HH:mm:ss",
                "link": false,
                "pattern": "Time",
                "type": "date"
              },
              {
                "alias": "Uptime",
                "align": "auto",
                "colorMode": null,
                "colors": [
                  "rgba(50, 172, 45, 0.97)",
                  "rgba(237, 129, 40, 0.89)",
                  "rgba(245, 54, 54, 0.9)"
                ],
                "dateFormat": "YYYY-MM-DD HH:mm:ss",
                "decimals": 2,
                "pattern": "Value",
                "thresholds": [],
                "type": "number",
                "unit": "s"
              },
              {
                "alias": "",
                "align": "auto",
                "colorMode": null,
                "colors": [
                  "rgba(245, 54, 54, 0.9)",
                  "rgba(237, 129, 40, 0.89)",
                  "rgba(50, 172, 45, 0.97)"
                ],
                "decimals": 2,
                "pattern": "/endpoint|job|namespace|pod|service/",
                "thresholds": [],
                "type": "hidden",
                "unit": "short"
              },
              {
                "alias": "",
                "align": "auto",
                "colorMode": null,
                "colors": [
                  "rgba(245, 54, 54, 0.9)",
                  "rgba(237, 129, 40, 0.89)",
                  "rgba(50, 172, 45, 0.97)"
                ],
                "dateFormat": "YYYY-MM-DD HH:mm:ss",
                "decimals": 2,
                "pattern": "instance",
                "preserveFormat": false,
                "sanitize": false,
                "thresholds": [],
                "type": "string",
                "unit": "short"
              }
            ],
            "targets": [{
              "expr": "(time() - node_boot_time_seconds)",
              "format": "table",
              "instant": true,
              "intervalFactor": 1,
              "refId": "A"
            }],
            "title": "Node Uptime",
            "transform": "table",
            "transparent": true,
            "type": "table-old"
          },
          {
            "collapsed": false,
            "datasource": null,
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 7
            },
            "id": 15,
            "panels": [],
            "title": "Nodes",
            "type": "row"
          },
          {
            "alert": {
              "conditions": [{
                "evaluator": {
                  "params": [
                    0.85
                  ],
                  "type": "gt"
                },
                "operator": {
                  "type": "and"
                },
                "query": {
                  "params": [
                    "B",
                    "5m",
                    "now"
                  ]
                },
                "reducer": {
                  "params": [],
                  "type": "max"
                },
                "type": "query"
              }],
              "executionErrorState": "alerting",
              "for": "0m",
              "frequency": "60s",
              "handler": 1,
              "name": "Memory Usage alert",
              "noDataState": "no_data",
              "notifications": []
            },
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "prometheus",
            "fieldConfig": {
              "defaults": {
                "custom": {}
              },
              "overrides": []
            },
            "fill": 1,
            "fillGradient": 0,
            "gridPos": {
              "h": 9,
              "w": 12,
              "x": 0,
              "y": 8
            },
            "hiddenSeries": false,
            "id": 10,
            "legend": {
              "avg": false,
              "current": false,
              "max": false,
              "min": false,
              "show": true,
              "total": false,
              "values": false
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "nullPointMode": "null",
            "options": {
              "dataLinks": []
            },
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [{
                "expr": "node_memory_MemTotal_bytes - (node_memory_MemFree_bytes+node_memory_Buffers_bytes+node_memory_Cached_bytes)",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "{{ instance }}",
                "refId": "A"
              },
              {
                "expr": "(node_memory_MemTotal_bytes - (node_memory_MemFree_bytes+node_memory_Buffers_bytes+node_memory_Cached_bytes))/node_memory_MemTotal_bytes",
                "format": "time_series",
                "hide": true,
                "intervalFactor": 1,
                "refId": "B"
              }
            ],
            "thresholds": [{
              "colorMode": "critical",
              "fill": true,
              "line": true,
              "op": "gt",
              "value": 0.85
            }],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "Memory Usage",
            "tooltip": {
              "shared": true,
              "sort": 0,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [{
                "format": "decbytes",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "alert": {
              "conditions": [{
                "evaluator": {
                  "params": [
                    90
                  ],
                  "type": "gt"
                },
                "operator": {
                  "type": "and"
                },
                "query": {
                  "params": [
                    "A",
                    "15m",
                    "now"
                  ]
                },
                "reducer": {
                  "params": [],
                  "type": "max"
                },
                "type": "query"
              }],
              "executionErrorState": "alerting",
              "frequency": "60s",
              "handler": 1,
              "name": "CPU Usage alert",
              "noDataState": "no_data",
              "notifications": []
            },
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "prometheus",
            "fieldConfig": {
              "defaults": {
                "custom": {}
              },
              "overrides": []
            },
            "fill": 1,
            "fillGradient": 0,
            "gridPos": {
              "h": 9,
              "w": 12,
              "x": 12,
              "y": 8
            },
            "hiddenSeries": false,
            "id": 11,
            "legend": {
              "avg": false,
              "current": false,
              "max": false,
              "min": false,
              "show": true,
              "total": false,
              "values": false
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "nullPointMode": "null",
            "options": {
              "dataLinks": []
            },
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [{
              "expr": "100 - (avg by (instance) (irate(node_cpu_seconds_total{job=\"node-exporter\",mode=\"idle\"}[5m])) * 100)",
              "format": "time_series",
              "intervalFactor": 3,
              "legendFormat": "{{instance}}",
              "refId": "A"
            }],
            "thresholds": [{
              "colorMode": "critical",
              "fill": true,
              "line": true,
              "op": "gt",
              "value": 90
            }],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "CPU Usage",
            "tooltip": {
              "shared": true,
              "sort": 0,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [{
                "decimals": null,
                "format": "percent",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "columns": [],
            "datasource": "prometheus",
            "fieldConfig": {
              "defaults": {
                "custom": {}
              },
              "overrides": []
            },
            "fontSize": "100%",
            "gridPos": {
              "h": 9,
              "w": 12,
              "x": 0,
              "y": 17
            },
            "id": 31,
            "links": [],
            "pageSize": null,
            "scroll": true,
            "showHeader": true,
            "sort": {
              "col": 0,
              "desc": true
            },
            "styles": [{
                "alias": "Time",
                "align": "auto",
                "dateFormat": "YYYY-MM-DD HH:mm:ss",
                "link": false,
                "pattern": "Time",
                "type": "date"
              },
              {
                "alias": "",
                "align": "auto",
                "colorMode": null,
                "colors": [
                  "rgba(245, 54, 54, 0.9)",
                  "rgba(237, 129, 40, 0.89)",
                  "rgba(50, 172, 45, 0.97)"
                ],
                "dateFormat": "YYYY-MM-DD HH:mm:ss",
                "decimals": 2,
                "pattern": "condition|container|daemonset|endpoint|namespace|node",
                "thresholds": [],
                "type": "hidden",
                "unit": "short"
              },
              {
                "alias": "",
                "align": "auto",
                "colorMode": null,
                "colors": [
                  "rgba(245, 54, 54, 0.9)",
                  "rgba(237, 129, 40, 0.89)",
                  "rgba(50, 172, 45, 0.97)"
                ],
                "decimals": 2,
                "pattern": "/.*/",
                "thresholds": [],
                "type": "number",
                "unit": "short"
              }
            ],
            "targets": [{
                "expr": "ALERTS{alertstate=\"firing\"}",
                "format": "table",
                "instant": true,
                "intervalFactor": 1,
                "refId": "A"
              },
              {
                "expr": "ALERTS{alertstate=\"firing\",alertname!=\"DeadMansSwitch\"}",
                "format": "table",
                "hide": true,
                "intervalFactor": 1,
                "refId": "B"
              }
            ],
            "title": "Active Alerts",
            "transform": "table",
            "type": "table-old"
          },
          {
            "dashboardFilter": "",
            "dashboardTags": [],
            "datasource": null,
            "fieldConfig": {
              "defaults": {
                "custom": {}
              },
              "overrides": []
            },
            "folderId": null,
            "gridPos": {
              "h": 9,
              "w": 5,
              "x": 12,
              "y": 17
            },
            "id": 27,
            "limit": 10,
            "links": [],
            "nameFilter": "",
            "onlyAlertsOnDashboard": false,
            "show": "current",
            "sortOrder": 1,
            "stateFilter": [],
            "title": "Alarms",
            "type": "alertlist"
          },
          {
            "cacheTimeout": null,
            "colorBackground": false,
            "colorValue": false,
            "colors": [
              "rgba(50, 172, 45, 0.97)",
              "rgba(237, 129, 40, 0.89)",
              "rgba(245, 54, 54, 0.9)"
            ],
            "datasource": "prometheus",
            "decimals": null,
            "editable": true,
            "error": false,
            "fieldConfig": {
              "defaults": {
                "custom": {}
              },
              "overrides": []
            },
            "format": "percent",
            "gauge": {
              "maxValue": 100,
              "minValue": 0,
              "show": true,
              "thresholdLabels": false,
              "thresholdMarkers": true
            },
            "gridPos": {
              "h": 5,
              "w": 7,
              "x": 17,
              "y": 17
            },
            "id": 7,
            "interval": null,
            "isNew": true,
            "links": [],
            "mappingType": 1,
            "mappingTypes": [{
                "name": "value to text",
                "value": 1
              },
              {
                "name": "range to text",
                "value": 2
              }
            ],
            "maxDataPoints": 100,
            "nullPointMode": "connected",
            "nullText": null,
            "postfix": "",
            "postfixFontSize": "50%",
            "prefix": "",
            "prefixFontSize": "50%",
            "rangeMaps": [{
              "from": "null",
              "text": "N/A",
              "to": "null"
            }],
            "sparkline": {
              "fillColor": "rgba(31, 118, 189, 0.18)",
              "full": false,
              "lineColor": "rgb(31, 120, 193)",
              "show": false
            },
            "tableColumn": "",
            "targets": [{
              "expr": "(sum(node_filesystem_size_bytes{device=~\"/dev/.*\"}) - sum(node_filesystem_free_bytes{device=~\"/dev/.*\"}) ) / sum(node_filesystem_size_bytes{device=~\"/dev/.*\"}) * 100",
              "format": "time_series",
              "interval": "10s",
              "intervalFactor": 1,
              "metric": "",
              "refId": "A",
              "step": 10
            }],
            "thresholds": "65, 90",
            "title": "Cluster Filesystem usage",
            "type": "singlestat",
            "valueFontSize": "80%",
            "valueMaps": [{
              "op": "=",
              "text": "N/A",
              "value": "null"
            }],
            "valueName": "current"
          },
          {
            "alert": {
              "conditions": [{
                "evaluator": {
                  "params": [
                    1
                  ],
                  "type": "lt"
                },
                "operator": {
                  "type": "and"
                },
                "query": {
                  "params": [
                    "C",
                    "5m",
                    "now"
                  ]
                },
                "reducer": {
                  "params": [],
                  "type": "avg"
                },
                "type": "query"
              }],
              "executionErrorState": "alerting",
              "frequency": "60s",
              "handler": 1,
              "name": "Node Down",
              "noDataState": "alerting",
              "notifications": []
            },
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "prometheus",
            "fieldConfig": {
              "defaults": {
                "custom": {}
              },
              "overrides": []
            },
            "fill": 1,
            "fillGradient": 0,
            "gridPos": {
              "h": 4,
              "w": 7,
              "x": 17,
              "y": 22
            },
            "hiddenSeries": false,
            "id": 29,
            "legend": {
              "avg": false,
              "current": false,
              "max": false,
              "min": false,
              "show": false,
              "total": false,
              "values": false
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "nullPointMode": "null as zero",
            "options": {
              "dataLinks": []
            },
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [{
                "expr": "sum(up{job=\"kubelet\"}) BY (job)",
                "format": "time_series",
                "hide": true,
                "instant": false,
                "intervalFactor": 1,
                "legendFormat": "Up Nodes",
                "refId": "A"
              },
              {
                "expr": "count(up{job=\"kubelet\"})",
                "format": "time_series",
                "hide": true,
                "instant": false,
                "intervalFactor": 1,
                "legendFormat": "Total Nodes",
                "refId": "B"
              },
              {
                "expr": "avg(up{job=\"kubelet\"}) BY (job)",
                "format": "time_series",
                "hide": false,
                "intervalFactor": 1,
                "refId": "C"
              }
            ],
            "thresholds": [{
              "colorMode": "critical",
              "fill": true,
              "line": true,
              "op": "lt",
              "value": 1
            }],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "Up Nodes",
            "tooltip": {
              "shared": true,
              "sort": 0,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [{
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "alert": {
              "conditions": [{
                "evaluator": {
                  "params": [
                    85
                  ],
                  "type": "gt"
                },
                "operator": {
                  "type": "and"
                },
                "query": {
                  "params": [
                    "A",
                    "1m",
                    "now"
                  ]
                },
                "reducer": {
                  "params": [],
                  "type": "avg"
                },
                "type": "query"
              }],
              "executionErrorState": "alerting",
              "frequency": "60s",
              "handler": 1,
              "name": "CPU Temperature alert",
              "noDataState": "no_data",
              "notifications": []
            },
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "prometheus",
            "fieldConfig": {
              "defaults": {
                "custom": {}
              },
              "overrides": []
            },
            "fill": 1,
            "fillGradient": 0,
            "gridPos": {
              "h": 6,
              "w": 24,
              "x": 0,
              "y": 26
            },
            "hiddenSeries": false,
            "id": 13,
            "legend": {
              "avg": false,
              "current": false,
              "max": false,
              "min": false,
              "show": true,
              "total": false,
              "values": false
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "nullPointMode": "null",
            "options": {
              "dataLinks": []
            },
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [{
              "expr": "rpi_cpu_temperature_celsius",
              "format": "time_series",
              "intervalFactor": 5,
              "legendFormat": "{{instance}}",
              "refId": "A"
            }],
            "thresholds": [{
              "colorMode": "critical",
              "fill": true,
              "line": true,
              "op": "gt",
              "value": 85
            }],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "CPU Temperature",
            "tooltip": {
              "shared": true,
              "sort": 0,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [{
                "format": "celsius",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "collapsed": false,
            "datasource": null,
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 32
            },
            "id": 17,
            "panels": [],
            "title": "Pods",
            "type": "row"
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "prometheus",
            "decimals": 0,
            "editable": true,
            "error": false,
            "fieldConfig": {
              "defaults": {
                "custom": {}
              },
              "overrides": []
            },
            "fill": 0,
            "fillGradient": 0,
            "grid": {},
            "gridPos": {
              "h": 7,
              "w": 24,
              "x": 0,
              "y": 33
            },
            "hiddenSeries": false,
            "id": 3,
            "isNew": true,
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": true,
              "hideEmpty": true,
              "hideZero": true,
              "max": false,
              "min": false,
              "rightSide": true,
              "show": true,
              "sideWidth": 270,
              "sort": "current",
              "sortDesc": true,
              "total": false,
              "values": true
            },
            "lines": true,
            "linewidth": 2,
            "links": [],
            "nullPointMode": "null as zero",
            "options": {
              "dataLinks": []
            },
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [{
              "expr": "topk(10,sum by (pod)(rate(container_cpu_usage_seconds_total{image!=\"\"}[1m] ) ))",
              "format": "time_series",
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{ pod}}",
              "metric": "container_cpu",
              "refId": "A",
              "step": 10
            }],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "Pod CPU usage",
            "tooltip": {
              "msResolution": true,
              "shared": true,
              "sort": 2,
              "value_type": "cumulative"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [{
                "format": "percentunit",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "prometheus",
            "decimals": 2,
            "editable": true,
            "error": false,
            "fieldConfig": {
              "defaults": {
                "custom": {}
              },
              "overrides": []
            },
            "fill": 0,
            "fillGradient": 0,
            "grid": {},
            "gridPos": {
              "h": 7,
              "w": 24,
              "x": 0,
              "y": 40
            },
            "hiddenSeries": false,
            "id": 2,
            "isNew": true,
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": true,
              "max": false,
              "min": false,
              "rightSide": true,
              "show": true,
              "sideWidth": 250,
              "sort": "avg",
              "sortDesc": true,
              "total": false,
              "values": true
            },
            "lines": true,
            "linewidth": 2,
            "links": [],
            "nullPointMode": "connected",
            "options": {
              "dataLinks": []
            },
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [{
                "expr": "sort_desc(sum(container_memory_usage_bytes{image!=\"\"}) by (pod, image))",
                "format": "time_series",
                "hide": true,
                "interval": "10s",
                "intervalFactor": 1,
                "legendFormat": "{{ pod }}",
                "metric": "container_memory_usage:sort_desc",
                "refId": "A",
                "step": 10
              },
              {
                "expr": "topk(10,sum(container_memory_rss{name=~\".+\"}) by (pod))",
                "format": "time_series",
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "{{ pod }}",
                "refId": "B"
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "Pod memory usage",
            "tooltip": {
              "msResolution": false,
              "shared": true,
              "sort": 2,
              "value_type": "cumulative"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [{
                "format": "bytes",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "prometheus",
            "editable": true,
            "error": false,
            "fieldConfig": {
              "defaults": {
                "custom": {}
              },
              "overrides": []
            },
            "fill": 1,
            "fillGradient": 0,
            "grid": {},
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 0,
              "y": 47
            },
            "hiddenSeries": false,
            "id": 19,
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": false,
              "hideEmpty": true,
              "hideZero": true,
              "max": false,
              "min": false,
              "rightSide": false,
              "show": true,
              "sideWidth": 550,
              "sort": "avg",
              "sortDesc": true,
              "total": false,
              "values": true
            },
            "lines": true,
            "linewidth": 2,
            "links": [],
            "nullPointMode": "null",
            "options": {
              "dataLinks": []
            },
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [{
                "expr": "topk(10,sum(rate(container_network_transmit_bytes_total{pod=~\".+\"}[5m])) by (pod))",
                "format": "time_series",
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "{{ pod_name }}",
                "refId": "A",
                "step": 240
              },
              {
                "expr": "rate(container_network_transmit_bytes_total{id=\"/\"}[$interval])",
                "format": "time_series",
                "hide": true,
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "",
                "refId": "B",
                "step": 10
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "Sent Network Traffic per Container",
            "tooltip": {
              "msResolution": true,
              "shared": true,
              "sort": 2,
              "value_type": "cumulative"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [{
                "format": "Bps",
                "label": "",
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": "",
                "logBase": 10,
                "max": 8,
                "min": 0,
                "show": false
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "prometheus",
            "editable": true,
            "error": false,
            "fieldConfig": {
              "defaults": {
                "custom": {}
              },
              "overrides": []
            },
            "fill": 1,
            "fillGradient": 0,
            "grid": {},
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 12,
              "y": 47
            },
            "hiddenSeries": false,
            "id": 21,
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": false,
              "hideEmpty": true,
              "hideZero": true,
              "max": false,
              "min": false,
              "rightSide": false,
              "show": true,
              "sideWidth": 150,
              "sort": "avg",
              "sortDesc": true,
              "total": false,
              "values": true
            },
            "lines": true,
            "linewidth": 2,
            "links": [],
            "nullPointMode": "null",
            "options": {
              "dataLinks": []
            },
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [{
                "expr": "topk(10,sum(rate(container_network_receive_bytes_total{pod=~\".+\"}[5m])) by (pod))",
                "format": "time_series",
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "{{pod_name}}",
                "refId": "A",
                "step": 240
              },
              {
                "expr": "- rate(container_network_transmit_bytes_total{pod_name=~\".+\"}[$interval])",
                "format": "time_series",
                "hide": true,
                "intervalFactor": 2,
                "legendFormat": "{{pod_name}}",
                "refId": "B",
                "step": 10
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "Received Network Traffic per Container",
            "tooltip": {
              "msResolution": true,
              "shared": true,
              "sort": 2,
              "value_type": "cumulative"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [{
                "format": "Bps",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "prometheus",
            "decimals": 2,
            "editable": true,
            "error": false,
            "fieldConfig": {
              "defaults": {
                "custom": {}
              },
              "overrides": []
            },
            "fill": 0,
            "fillGradient": 0,
            "grid": {},
            "gridPos": {
              "h": 7,
              "w": 24,
              "x": 0,
              "y": 54
            },
            "hiddenSeries": false,
            "id": 8,
            "isNew": true,
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": true,
              "max": false,
              "min": false,
              "rightSide": true,
              "show": true,
              "sideWidth": 220,
              "sort": "current",
              "sortDesc": true,
              "total": false,
              "values": true
            },
            "lines": true,
            "linewidth": 2,
            "links": [],
            "nullPointMode": "connected",
            "options": {
              "dataLinks": []
            },
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [{
                "expr": "sort_desc(sum by (kubernetes_pod_name) (rate (container_network_receive_bytes_total{name!=\"\", kubernetes_pod_name=~\".*\"}[1m]) ))",
                "format": "time_series",
                "interval": "10s",
                "intervalFactor": 1,
                "legendFormat": "Receive Traffic",
                "metric": "network",
                "refId": "A",
                "step": 10
              },
              {
                "expr": "sort_desc(sum by (kubernetes_pod_name) (rate (container_network_transmit_bytes_total{name!=\"\", kubernetes_pod_name=~\".*\"}[1m]) ))",
                "format": "time_series",
                "interval": "10s",
                "intervalFactor": 1,
                "legendFormat": "Transmit Traffic",
                "metric": "network",
                "refId": "B",
                "step": 10
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "Pod Network i/o",
            "tooltip": {
              "msResolution": false,
              "shared": true,
              "sort": 0,
              "value_type": "cumulative"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [{
                "$$hashKey": "object:1163",
                "format": "bytes",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "$$hashKey": "object:1164",
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          }
        ],
        "refresh": "10s",
        "schemaVersion": 25,
        "style": "dark",
        "tags": [
          "custom"
        ],
        "templating": {
          "list": []
        },
        "time": {
          "from": "now-3h",
          "to": "now"
        },
        "timepicker": {
          "refresh_intervals": [
            "5s",
            "10s",
            "30s",
            "1m",
            "5m",
            "15m",
            "30m",
            "1h",
            "2h",
            "1d"
          ],
          "time_options": [
            "5m",
            "15m",
            "1h",
            "6h",
            "12h",
            "24h",
            "2d",
            "7d",
            "30d"
          ]
        },
        "timezone": "browser",
        "title": "Kubernetes cluster monitoring (via Prometheus)",
        "version": 1
      }
- apiVersion: v1
  kind: ConfigMap
  metadata:
    name: grafana-node-exporter-server-metrics
    namespace: monitoring
  data:
    node-exporter-server-metrics.json: |-
      {
        "annotations": {
          "list": [
            {
              "builtIn": 1,
              "datasource": "-- Grafana --",
              "enable": true,
              "hide": true,
              "iconColor": "rgba(0, 211, 255, 1)",
              "name": "Annotations & Alerts",
              "type": "dashboard"
            }
          ]
        },
        "description": "Dashboard to view multiple servers",
        "editable": false,
        "gnetId": 405,
        "graphTooltip": 0,
        "id": 45,
        "iteration": 1606655820714,
        "links": [],
        "panels": [
          {
            "datasource": null,
            "editable": true,
            "error": false,
            "fieldConfig": {
              "defaults": {
                "custom": {}
              },
              "overrides": []
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 0
            },
            "id": 11,
            "maxPerRow": 6,
            "options": {
              "content": "",
              "mode": "html"
            },
            "pluginVersion": "7.3.4",
            "repeat": "node",
            "scopedVars": {
              "node": {
                "selected": true,
                "text": "rpi-k3s-worker1",
                "value": "rpi-k3s-worker1"
              }
            },
            "style": {},
            "title": "$node",
            "type": "text"
          },
          {
            "cacheTimeout": null,
            "colorBackground": false,
            "colorValue": false,
            "colors": [
              "rgba(245, 54, 54, 0.9)",
              "rgba(237, 129, 40, 0.89)",
              "rgba(50, 172, 45, 0.97)"
            ],
            "datasource": "prometheus",
            "editable": true,
            "error": false,
            "fieldConfig": {
              "defaults": {
                "custom": {}
              },
              "overrides": []
            },
            "format": "none",
            "gauge": {
              "maxValue": 100,
              "minValue": 0,
              "show": false,
              "thresholdLabels": false,
              "thresholdMarkers": true
            },
            "gridPos": {
              "h": 3,
              "w": 24,
              "x": 0,
              "y": 1
            },
            "id": 20,
            "interval": null,
            "links": [],
            "mappingType": 1,
            "mappingTypes": [
              {
                "name": "value to text",
                "value": 1
              },
              {
                "name": "range to text",
                "value": 2
              }
            ],
            "maxDataPoints": 100,
            "maxPerRow": 6,
            "nullPointMode": "connected",
            "nullText": null,
            "postfix": "",
            "postfixFontSize": "50%",
            "prefix": "",
            "prefixFontSize": "50%",
            "rangeMaps": [
              {
                "from": "null",
                "text": "N/A",
                "to": "null"
              }
            ],
            "repeat": "node",
            "scopedVars": {
              "node": {
                "selected": true,
                "text": "rpi-k3s-worker1",
                "value": "rpi-k3s-worker1"
              }
            },
            "sparkline": {
              "fillColor": "rgba(31, 118, 189, 0.18)",
              "full": false,
              "lineColor": "rgb(31, 120, 193)",
              "show": false
            },
            "tableColumn": "",
            "targets": [
              {
                "expr": "count(node_cpu_seconds_total{instance=~\"$node\", mode=\"system\"}) or count(node_cpu{instance=~\"$node\", mode=\"system\"})",
                "instant": true,
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "",
                "metric": "",
                "refId": "A",
                "step": 14400,
                "target": ""
              }
            ],
            "thresholds": "",
            "title": "CPU Cores",
            "type": "singlestat",
            "valueFontSize": "80%",
            "valueMaps": [
              {
                "op": "=",
                "text": "N/A",
                "value": "null"
              }
            ],
            "valueName": "avg"
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "prometheus",
            "decimals": 3,
            "editable": true,
            "error": false,
            "fieldConfig": {
              "defaults": {
                "custom": {}
              },
              "overrides": []
            },
            "fill": 10,
            "fillGradient": 0,
            "grid": {},
            "gridPos": {
              "h": 7,
              "w": 24,
              "x": 0,
              "y": 4
            },
            "hiddenSeries": false,
            "id": 7,
            "legend": {
              "alignAsTable": false,
              "avg": false,
              "current": false,
              "hideEmpty": false,
              "max": false,
              "min": false,
              "rightSide": false,
              "show": true,
              "total": false,
              "values": false
            },
            "lines": true,
            "linewidth": 0,
            "links": [],
            "maxPerRow": 6,
            "nullPointMode": "connected",
            "options": {
              "alertThreshold": true
            },
            "percentage": true,
            "pluginVersion": "7.3.4",
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "repeat": "node",
            "scopedVars": {
              "node": {
                "selected": true,
                "text": "rpi-k3s-worker1",
                "value": "rpi-k3s-worker1"
              }
            },
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": true,
            "steppedLine": false,
            "targets": [
              {
                "expr": "sum(irate(node_cpu_seconds_total{mode=\"system\",instance=~'$node'}[5m])) or sum(irate(node_cpu{mode=\"system\",instance=~'$node'}[5m]))",
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "system",
                "metric": "",
                "refId": "A",
                "step": 1200,
                "target": ""
              },
              {
                "expr": "sum(irate(node_cpu_seconds_total{mode=\"user\",instance=~'$node'}[5m])) or sum(irate(node_cpu{mode=\"user\",instance=~'$node'}[5m]))",
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "user",
                "refId": "B",
                "step": 1200
              },
              {
                "expr": "sum(irate(node_cpu_seconds_total{mode=\"nice\",instance=~'$node'}[5m])) or sum(irate(node_cpu{mode=\"nice\",instance=~'$node'}[5m]))",
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "nice",
                "refId": "C",
                "step": 1200
              },
              {
                "expr": "sum(irate(node_cpu_seconds_total{mode=\"iowait\",instance=~'$node'}[5m])) or sum(irate(node_cpu{mode=\"iowait\",instance=~'$node'}[5m]))",
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "iowait",
                "refId": "E",
                "step": 1200
              },
              {
                "expr": "sum(irate(node_cpu_seconds_total{mode=\"steal\",instance=~'$node'}[5m])) or sum(irate(node_cpu{mode=\"steal\",instance=~'$node'}[5m]))",
                "intervalFactor": 2,
                "legendFormat": "steal",
                "refId": "H",
                "step": 1200
              },
              {
                "expr": "sum(irate(node_cpu_seconds_total{mode=\"idle\",instance=~'$node'}[5m])) or sum(irate(node_cpu{mode=\"idle\",instance=~'$node'}[5m]))",
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "idle",
                "refId": "D",
                "step": 1200
              },
              {
                "expr": "sum(irate(node_cpu_seconds_total{mode=\"irq\",instance=~'$node'}[5m])) or sum(irate(node_cpu{mode=\"irq\",instance=~'$node'}[5m]))",
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "irq",
                "refId": "F",
                "step": 1200
              },
              {
                "expr": "sum(irate(node_cpu_seconds_total{mode=\"softirq\",instance=~'$node'}[5m])) or sum(irate(node_cpu{mode=\"softirq\",instance=~'$node'}[5m]))",
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "softirq",
                "refId": "G",
                "step": 1200
              },
              {
                "expr": "sum(irate(node_cpu_seconds_total{mode=\"guest\",instance=~'$node'}[5m])) or sum(irate(node_cpu{mode=\"guest\",instance=~'$node'}[5m]))",
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "guest",
                "refId": "I",
                "step": 1200
              }
            ],
            "thresholds": [
              {
                "colorMode": "custom",
                "fill": true,
                "fillColor": "rgba(216, 200, 27, 0.27)",
                "op": "gt",
                "value": 0,
                "yaxis": "left"
              }
            ],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "CPU",
            "tooltip": {
              "msResolution": false,
              "shared": true,
              "sort": 0,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": "%",
                "logBase": 1,
                "max": 100,
                "min": 0,
                "show": true
              },
              {
                "format": "short",
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {
              "Slab": "#E5A8E2",
              "Swap": "#E24D42"
            },
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "prometheus",
            "decimals": 2,
            "editable": true,
            "error": false,
            "fieldConfig": {
              "defaults": {
                "custom": {}
              },
              "overrides": []
            },
            "fill": 1,
            "fillGradient": 2,
            "grid": {},
            "gridPos": {
              "h": 7,
              "w": 24,
              "x": 0,
              "y": 11
            },
            "hiddenSeries": false,
            "id": 17,
            "legend": {
              "avg": false,
              "current": false,
              "max": false,
              "min": false,
              "show": true,
              "total": false,
              "values": false
            },
            "lines": true,
            "linewidth": 2,
            "links": [],
            "maxPerRow": 6,
            "nullPointMode": "connected",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.3.4",
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "repeat": "node",
            "scopedVars": {
              "node": {
                "selected": true,
                "text": "rpi-k3s-worker1",
                "value": "rpi-k3s-worker1"
              }
            },
            "seriesOverrides": [
              {
                "alias": "/Apps|Buffers|Cached|Free|Slab|SwapCached|PageTables|VmallocUsed/",
                "fill": 5,
                "stack": true
              },
              {
                "alias": "Swap",
                "fill": 5,
                "stack": true
              }
            ],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "expr": "( node_memory_MemTotal_bytes{instance=~'$node'} - node_memory_MemFree_bytes{instance=~'$node'} - node_memory_Buffers_bytes{instance=~'$node'} - node_memory_Cached_bytes{instance=~'$node'} - node_memory_SwapCached_bytes{instance=~'$node'} - node_memory_Slab_bytes{instance=~'$node'} - node_memory_PageTables_bytes{instance=~'$node'} - node_memory_VmallocUsed_bytes{instance=~'$node'} ) or ( node_memory_MemTotal{instance=~'$node'} - node_memory_MemFree{instance=~'$node'} - node_memory_Buffers{instance=~'$node'} - node_memory_Cached{instance=~'$node'} - node_memory_SwapCached{instance=~'$node'} - node_memory_Slab{instance=~'$node'} - node_memory_PageTables{instance=~'$node'} - node_memory_VmallocUsed{instance=~'$node'} )",
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "Apps",
                "metric": "",
                "refId": "A",
                "step": 1200,
                "target": ""
              },
              {
                "expr": "node_memory_Buffers_bytes{instance=~'$node'} or node_memory_Buffers{instance=~'$node'}",
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "Buffers",
                "refId": "B",
                "step": 1200
              },
              {
                "expr": "node_memory_Cached_bytes{instance=~'$node'} or node_memory_Cached{instance=~'$node'}",
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "Cached",
                "refId": "D",
                "step": 1200
              },
              {
                "expr": "node_memory_MemFree_bytes{instance=~'$node'} or node_memory_MemFree{instance=~'$node'}",
                "hide": false,
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "Free",
                "refId": "E",
                "step": 1200
              },
              {
                "expr": "node_memory_Slab_bytes{instance=~'$node'} or node_memory_Slab{instance=~'$node'}",
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "Slab",
                "refId": "F",
                "step": 1200
              },
              {
                "expr": "node_memory_SwapCached_bytes{instance=~'$node'} or node_memory_SwapCached{instance=~'$node'}",
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "SwapCached",
                "refId": "G",
                "step": 1200
              },
              {
                "expr": "node_memory_PageTables_bytes{instance=~'$node'} or node_memory_PageTables{instance=~'$node'}",
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "PageTables",
                "refId": "H",
                "step": 1200
              },
              {
                "expr": "node_memory_VmallocUsed_bytes{instance=~'$node'} or node_memory_VmallocUsed{instance=~'$node'}",
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "VmallocUsed",
                "metric": "",
                "refId": "I",
                "step": 1200
              },
              {
                "expr": "(node_memory_SwapTotal_bytes{instance=~'$node'} - node_memory_SwapFree{instance=~'$node'}) or (node_memory_SwapTotal{instance=~'$node'} - node_memory_SwapFree{instance=~'$node'})",
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "Swap",
                "metric": "",
                "refId": "C",
                "step": 1200
              },
              {
                "expr": "node_memory_Committed_AS_bytes{instance=~'$node'} or node_memory_Committed_AS{instance=~'$node'}",
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "Committed",
                "metric": "",
                "refId": "J",
                "step": 1200
              },
              {
                "expr": "node_memory_Mapped_bytes{instance=~'$node'} or node_memory_Mapped{instance=~'$node'}",
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "Mapped",
                "refId": "K",
                "step": 1200
              },
              {
                "expr": "node_memory_Active_bytes{instance=~'$node'} or node_memory_Active{instance=~'$node'}",
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "Active",
                "metric": "",
                "refId": "L",
                "step": 1200
              },
              {
                "expr": "node_memory_Inactive_bytes{instance=~'$node'} or node_memory_Inactive{instance=~'$node'}",
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "Inactive",
                "metric": "",
                "refId": "M",
                "step": 1200
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "Memory",
            "tooltip": {
              "msResolution": false,
              "shared": true,
              "sort": 0,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "bytes",
                "label": "GB",
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "prometheus",
            "editable": true,
            "error": false,
            "fieldConfig": {
              "defaults": {
                "custom": {}
              },
              "overrides": []
            },
            "fill": 1,
            "fillGradient": 0,
            "grid": {},
            "gridPos": {
              "h": 7,
              "w": 24,
              "x": 0,
              "y": 18
            },
            "hiddenSeries": false,
            "id": 13,
            "legend": {
              "avg": false,
              "current": false,
              "max": false,
              "min": false,
              "show": true,
              "total": false,
              "values": false
            },
            "lines": true,
            "linewidth": 2,
            "links": [],
            "maxPerRow": 6,
            "nullPointMode": "connected",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.3.4",
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "repeat": "node",
            "scopedVars": {
              "node": {
                "selected": true,
                "text": "rpi-k3s-worker1",
                "value": "rpi-k3s-worker1"
              }
            },
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "expr": "node_load1{instance=~\"$node\"}",
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "load",
                "metric": "",
                "refId": "A",
                "step": 1200,
                "target": ""
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "Load",
            "tooltip": {
              "msResolution": false,
              "shared": true,
              "sort": 0,
              "value_type": "cumulative"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "prometheus",
            "decimals": 3,
            "editable": true,
            "error": false,
            "fieldConfig": {
              "defaults": {
                "custom": {}
              },
              "overrides": []
            },
            "fill": 1,
            "fillGradient": 0,
            "grid": {},
            "gridPos": {
              "h": 7,
              "w": 24,
              "x": 0,
              "y": 25
            },
            "hiddenSeries": false,
            "id": 9,
            "legend": {
              "avg": false,
              "current": false,
              "max": false,
              "min": false,
              "show": true,
              "total": false,
              "values": false
            },
            "lines": true,
            "linewidth": 2,
            "links": [],
            "maxPerRow": 6,
            "nullPointMode": "connected",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.3.4",
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "repeat": "node",
            "scopedVars": {
              "node": {
                "selected": true,
                "text": "rpi-k3s-worker1",
                "value": "rpi-k3s-worker1"
              }
            },
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "expr": "100.0 - 100 * (node_filesystem_avail_bytes{instance=~'$node',device !~'tmpfs',device!~'by-uuid'} / node_filesystem_size_bytes{instance=~'$node',device !~'tmpfs',device!~'by-uuid'}) or 100.0 - 100 * (node_filesystem_avail{instance=~'$node',device !~'tmpfs',device!~'by-uuid'} / node_filesystem_size{instance=~'$node',device !~'tmpfs',device!~'by-uuid'})",
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "{{mountpoint}}",
                "metric": "",
                "refId": "A",
                "step": 1200,
                "target": ""
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "Disk Space Used",
            "tooltip": {
              "msResolution": true,
              "shared": true,
              "sort": 0,
              "value_type": "cumulative"
            },
            "transformations": [
              {
                "id": "filterFieldsByName",
                "options": {
                  "include": {
                    "names": [
                      "Time",
                      "/boot",
                      "/",
                      "/data"
                    ]
                  }
                }
              }
            ],
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "percent",
                "logBase": 1,
                "max": 100,
                "min": 0,
                "show": true
              },
              {
                "format": "short",
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "prometheus",
            "editable": true,
            "error": false,
            "fieldConfig": {
              "defaults": {
                "custom": {}
              },
              "overrides": []
            },
            "fill": 1,
            "fillGradient": 0,
            "grid": {},
            "gridPos": {
              "h": 7,
              "w": 24,
              "x": 0,
              "y": 32
            },
            "hiddenSeries": false,
            "id": 19,
            "legend": {
              "avg": false,
              "current": false,
              "max": false,
              "min": false,
              "show": true,
              "total": false,
              "values": false
            },
            "lines": true,
            "linewidth": 2,
            "links": [],
            "maxPerRow": 6,
            "nullPointMode": "connected",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.3.4",
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "repeat": "node",
            "scopedVars": {
              "node": {
                "selected": true,
                "text": "rpi-k3s-worker1",
                "value": "rpi-k3s-worker1"
              }
            },
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "expr": "irate(node_disk_io_time_seconds_total{instance=~\"$node\"}[5m])*100 or irate(node_disk_io_time_ms{instance=~\"$node\"}[5m])/10",
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "{{device}}",
                "metric": "",
                "refId": "A",
                "step": 1200,
                "target": ""
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "Disk Utilization per Device",
            "tooltip": {
              "msResolution": false,
              "shared": false,
              "sort": 0,
              "value_type": "cumulative"
            },
            "transformations": [
              {
                "id": "filterFieldsByName",
                "options": {
                  "include": {
                    "names": [
                      "Time",
                      "mmcblk0",
                      "mmcblk0p1",
                      "mmcblk0p2",
                      "md0"
                    ]
                  }
                }
              }
            ],
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "percent",
                "logBase": 1,
                "max": 100,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "prometheus",
            "editable": true,
            "error": false,
            "fieldConfig": {
              "defaults": {
                "custom": {}
              },
              "overrides": []
            },
            "fill": 1,
            "fillGradient": 0,
            "grid": {},
            "gridPos": {
              "h": 7,
              "w": 24,
              "x": 0,
              "y": 39
            },
            "hiddenSeries": false,
            "id": 14,
            "legend": {
              "avg": false,
              "current": false,
              "max": false,
              "min": false,
              "show": true,
              "total": false,
              "values": false
            },
            "lines": true,
            "linewidth": 2,
            "links": [],
            "maxPerRow": 6,
            "nullPointMode": "connected",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.3.4",
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "repeat": "node",
            "scopedVars": {
              "node": {
                "selected": true,
                "text": "rpi-k3s-worker1",
                "value": "rpi-k3s-worker1"
              }
            },
            "seriesOverrides": [
              {
                "alias": "/.*_read$/",
                "transform": "negative-Y"
              }
            ],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "expr": "irate(node_disk_reads_completed_total{instance=~'$node'}[5m]) or irate(node_disk_reads_completed{instance=~'$node'}[5m])",
                "interval": "",
                "intervalFactor": 4,
                "legendFormat": "{{device}}_read",
                "metric": "",
                "refId": "A",
                "step": 2400,
                "target": ""
              },
              {
                "expr": "irate(node_disk_writes_completed_total{instance=~'$node'}[5m]) or irate(node_disk_writes_completed{instance=~'$node'}[5m])",
                "intervalFactor": 2,
                "legendFormat": "{{device}}_write",
                "metric": "",
                "refId": "B",
                "step": 1200
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "Disk IOs per Device",
            "tooltip": {
              "msResolution": false,
              "shared": false,
              "sort": 0,
              "value_type": "cumulative"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": "IO/second read (-) / write (+)",
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "prometheus",
            "editable": true,
            "error": false,
            "fieldConfig": {
              "defaults": {
                "custom": {}
              },
              "overrides": []
            },
            "fill": 1,
            "fillGradient": 0,
            "grid": {},
            "gridPos": {
              "h": 7,
              "w": 24,
              "x": 0,
              "y": 46
            },
            "hiddenSeries": false,
            "id": 18,
            "legend": {
              "avg": false,
              "current": false,
              "max": false,
              "min": false,
              "show": true,
              "total": false,
              "values": false
            },
            "lines": true,
            "linewidth": 2,
            "links": [],
            "maxPerRow": 6,
            "nullPointMode": "connected",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.3.4",
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "repeat": "node",
            "scopedVars": {
              "node": {
                "selected": true,
                "text": "rpi-k3s-worker1",
                "value": "rpi-k3s-worker1"
              }
            },
            "seriesOverrides": [
              {
                "alias": "/.*_read/",
                "transform": "negative-Y"
              }
            ],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "expr": "irate(node_disk_read_bytes_total{instance=~'$node'}[5m]) or irate(node_disk_sectors_read{instance=~'$node'}[5m]) * 512",
                "interval": "",
                "intervalFactor": 4,
                "legendFormat": "{{device}}_read",
                "refId": "B",
                "step": 2400
              },
              {
                "expr": "irate(node_disk_written_bytes_total{instance=~'$node'}[5m]) or irate(node_disk_sectors_written{instance=~'$node'}[5m]) * 512",
                "interval": "",
                "intervalFactor": 4,
                "legendFormat": "{{device}}_write",
                "metric": "",
                "refId": "A",
                "step": 2400,
                "target": ""
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "Disk Throughput per Device",
            "tooltip": {
              "msResolution": false,
              "shared": false,
              "sort": 0,
              "value_type": "cumulative"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "bytes",
                "label": "Bytes/second read (-) / write (+)",
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "prometheus",
            "editable": true,
            "error": false,
            "fieldConfig": {
              "defaults": {
                "custom": {}
              },
              "overrides": []
            },
            "fill": 1,
            "fillGradient": 0,
            "grid": {},
            "gridPos": {
              "h": 7,
              "w": 24,
              "x": 0,
              "y": 53
            },
            "hiddenSeries": false,
            "id": 25,
            "legend": {
              "avg": false,
              "current": false,
              "max": false,
              "min": false,
              "show": true,
              "total": false,
              "values": false
            },
            "lines": true,
            "linewidth": 2,
            "links": [],
            "maxPerRow": 6,
            "nullPointMode": "connected",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.3.4",
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "repeat": "node",
            "scopedVars": {
              "node": {
                "selected": true,
                "text": "rpi-k3s-worker1",
                "value": "rpi-k3s-worker1"
              }
            },
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "expr": "node_disk_io_now{instance=~\"$node\"}",
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "{{device}}",
                "metric": "",
                "refId": "A",
                "step": 1200,
                "target": ""
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "Disk Queue Length",
            "tooltip": {
              "msResolution": false,
              "shared": true,
              "sort": 0,
              "value_type": "cumulative"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "logBase": 1,
                "max": null,
                "min": 0,
                "show": true
              },
              {
                "format": "short",
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "prometheus",
            "editable": true,
            "error": false,
            "fieldConfig": {
              "defaults": {
                "custom": {}
              },
              "overrides": []
            },
            "fill": 1,
            "fillGradient": 0,
            "grid": {},
            "gridPos": {
              "h": 7,
              "w": 24,
              "x": 0,
              "y": 60
            },
            "hiddenSeries": false,
            "id": 22,
            "legend": {
              "avg": false,
              "current": false,
              "max": false,
              "min": false,
              "show": true,
              "total": false,
              "values": false
            },
            "lines": true,
            "linewidth": 2,
            "links": [],
            "maxPerRow": 6,
            "nullPointMode": "connected",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.3.4",
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "repeat": "node",
            "scopedVars": {
              "node": {
                "selected": true,
                "text": "rpi-k3s-worker1",
                "value": "rpi-k3s-worker1"
              }
            },
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "expr": "irate(node_context_switches_total{instance=~\"$node\"}[5m]) or irate(node_context_switches{instance=~\"$node\"}[5m])",
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "context switches",
                "metric": "",
                "refId": "A",
                "step": 1200,
                "target": ""
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "Context Switches",
            "tooltip": {
              "msResolution": false,
              "shared": true,
              "sort": 0,
              "value_type": "cumulative"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "prometheus",
            "editable": true,
            "error": false,
            "fieldConfig": {
              "defaults": {
                "custom": {}
              },
              "overrides": []
            },
            "fill": 1,
            "fillGradient": 0,
            "grid": {},
            "gridPos": {
              "h": 7,
              "w": 24,
              "x": 0,
              "y": 67
            },
            "hiddenSeries": false,
            "id": 12,
            "legend": {
              "avg": false,
              "current": false,
              "max": false,
              "min": false,
              "show": true,
              "total": false,
              "values": false
            },
            "lines": true,
            "linewidth": 2,
            "links": [],
            "maxPerRow": 6,
            "nullPointMode": "connected",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.3.4",
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "repeat": "node",
            "scopedVars": {
              "node": {
                "selected": true,
                "text": "rpi-k3s-worker1",
                "value": "rpi-k3s-worker1"
              }
            },
            "seriesOverrides": [
              {
                "alias": "/.*_in/",
                "transform": "negative-Y"
              }
            ],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "expr": "irate(node_network_receive_bytes_total{instance=~'$node'}[5m])*8 or irate(node_network_receive_bytes{instance=~'$node'}[5m])*8",
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "{{device}}_in",
                "metric": "",
                "refId": "A",
                "step": 1200,
                "target": ""
              },
              {
                "expr": "irate(node_network_transmit_bytes_total{instance=~'$node'}[5m])*8 or irate(node_network_transmit_bytes{instance=~'$node'}[5m])*8",
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "{{device}}_out",
                "refId": "B",
                "step": 1200
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "Network Traffic",
            "tooltip": {
              "msResolution": false,
              "shared": true,
              "sort": 0,
              "value_type": "cumulative"
            },
            "transformations": [
              {
                "id": "filterFieldsByName",
                "options": {
                  "include": {
                    "names": [
                      "Time",
                      "cni0_in",
                      "eth0_in",
                      "flannel.1_in",
                      "lo_in",
                      "cni0_out",
                      "eth0_out",
                      "flannel.1_out",
                      "lo_out"
                    ]
                  }
                }
              }
            ],
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "bits",
                "label": "bits in (-) / bits out (+)",
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "prometheus",
            "editable": true,
            "error": false,
            "fieldConfig": {
              "defaults": {
                "custom": {}
              },
              "overrides": []
            },
            "fill": 1,
            "fillGradient": 0,
            "grid": {},
            "gridPos": {
              "h": 7,
              "w": 24,
              "x": 0,
              "y": 74
            },
            "hiddenSeries": false,
            "id": 21,
            "legend": {
              "avg": false,
              "current": false,
              "max": false,
              "min": false,
              "show": true,
              "total": false,
              "values": false
            },
            "lines": true,
            "linewidth": 2,
            "links": [],
            "maxPerRow": 6,
            "nullPointMode": "connected",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.3.4",
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "repeat": "node",
            "scopedVars": {
              "node": {
                "selected": true,
                "text": "rpi-k3s-worker1",
                "value": "rpi-k3s-worker1"
              }
            },
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "expr": "node_netstat_Tcp_CurrEstab{instance=~'$node'}",
                "intervalFactor": 2,
                "legendFormat": "established",
                "refId": "A",
                "step": 1200,
                "target": ""
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "Netstat",
            "tooltip": {
              "msResolution": false,
              "shared": true,
              "sort": 0,
              "value_type": "cumulative"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "prometheus",
            "editable": true,
            "error": false,
            "fieldConfig": {
              "defaults": {
                "custom": {}
              },
              "overrides": []
            },
            "fill": 1,
            "fillGradient": 0,
            "grid": {},
            "gridPos": {
              "h": 7,
              "w": 24,
              "x": 0,
              "y": 81
            },
            "hiddenSeries": false,
            "id": 23,
            "legend": {
              "avg": false,
              "current": false,
              "max": false,
              "min": false,
              "show": true,
              "total": false,
              "values": false
            },
            "lines": true,
            "linewidth": 2,
            "links": [],
            "maxPerRow": 6,
            "nullPointMode": "connected",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.3.4",
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "repeat": "node",
            "scopedVars": {
              "node": {
                "selected": true,
                "text": "rpi-k3s-worker1",
                "value": "rpi-k3s-worker1"
              }
            },
            "seriesOverrides": [
              {
                "alias": "/.*Out.*/",
                "transform": "negative-Y"
              },
              {
                "alias": "Udp_NoPorts",
                "yaxis": 2
              }
            ],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "expr": "irate(node_netstat_Udp_InDatagrams{instance=~\"$node\"}[5m])",
                "intervalFactor": 2,
                "legendFormat": "Udp_InDatagrams",
                "refId": "A",
                "step": 1200,
                "target": ""
              },
              {
                "expr": "irate(node_netstat_Udp_InErrors{instance=~\"$node\"}[5m])",
                "intervalFactor": 2,
                "legendFormat": "Udp_InErrors",
                "refId": "B",
                "step": 1200
              },
              {
                "expr": "irate(node_netstat_Udp_OutDatagrams{instance=~\"$node\"}[5m])",
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "Udp_OutDatagrams",
                "refId": "C",
                "step": 1200
              },
              {
                "expr": "irate(node_netstat_Udp_NoPorts{instance=~\"$node\"}[5m])",
                "intervalFactor": 2,
                "legendFormat": "Udp_NoPorts",
                "refId": "D",
                "step": 1200
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "UDP Stats",
            "tooltip": {
              "msResolution": false,
              "shared": true,
              "sort": 0,
              "value_type": "cumulative"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "prometheus",
            "editable": true,
            "error": false,
            "fieldConfig": {
              "defaults": {
                "custom": {}
              },
              "overrides": []
            },
            "fill": 1,
            "fillGradient": 0,
            "grid": {},
            "gridPos": {
              "h": 7,
              "w": 24,
              "x": 0,
              "y": 88
            },
            "hiddenSeries": false,
            "id": 24,
            "legend": {
              "avg": false,
              "current": false,
              "max": false,
              "min": false,
              "show": true,
              "total": false,
              "values": false
            },
            "lines": true,
            "linewidth": 2,
            "links": [],
            "maxPerRow": 6,
            "nullPointMode": "connected",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.3.4",
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "repeat": "node",
            "scopedVars": {
              "node": {
                "selected": true,
                "text": "rpi-k3s-worker1",
                "value": "rpi-k3s-worker1"
              }
            },
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "expr": "node_nf_conntrack_entries_limit{instance=~\"$node\"} - node_nf_conntrack_entries{instance=~\"$node\"}",
                "intervalFactor": 2,
                "legendFormat": "free",
                "refId": "A",
                "step": 1200,
                "target": ""
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "Conntrack",
            "tooltip": {
              "msResolution": false,
              "shared": true,
              "sort": 0,
              "value_type": "cumulative"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          }
        ],
        "schemaVersion": 26,
        "style": "dark",
        "tags": [
          "prometheus"
        ],
        "templating": {
          "list": [
            {
              "allFormat": "glob",
              "allValue": null,
              "current": {
                "selected": true,
                "text": [
                  "rpi-k3s-worker1"
                ],
                "value": [
                  "rpi-k3s-worker1"
                ]
              },
              "datasource": "prometheus",
              "definition": "",
              "error": null,
              "hide": 0,
              "includeAll": false,
              "label": "",
              "multi": true,
              "multiFormat": "regex values",
              "name": "node",
              "options": [],
              "query": "label_values(node_exporter_build_info, instance)",
              "refresh": 1,
              "regex": "",
              "skipUrlSync": false,
              "sort": 1,
              "tagValuesQuery": "",
              "tags": [],
              "tagsQuery": "",
              "type": "query",
              "useTags": false
            }
          ]
        },
        "time": {
          "from": "now-12h",
          "to": "now"
        },
        "timepicker": {
          "now": true,
          "refresh_intervals": [
            "5s",
            "10s",
            "30s",
            "1m",
            "5m",
            "15m",
            "30m",
            "1h",
            "2h",
            "1d"
          ],
          "time_options": [
            "5m",
            "15m",
            "1h",
            "6h",
            "12h",
            "24h",
            "2d",
            "7d",
            "30d"
          ]
        },
        "timezone": "browser",
        "title": "Node Exporter Server Metrics",
        "uid": "shpaq-03",
        "version": 1
      }
- apiVersion: v1
  kind: ConfigMap
  metadata:
    name: grafana-dashboard-simple
    namespace: monitoring
  data:
    simple-dash.json: |-
      {
        "annotations": {
          "list": [
            {
              "builtIn": 1,
              "datasource": "-- Grafana --",
              "enable": true,
              "hide": true,
              "iconColor": "rgba(0, 211, 255, 1)",
              "name": "Annotations & Alerts",
              "type": "dashboard"
            }
          ]
        },
        "editable": true,
        "gnetId": 12869,
        "graphTooltip": 1,
        "id": 39,
        "links": [],
        "panels": [
          {
            "datasource": "prometheus",
            "fieldConfig": {
              "defaults": {
                "custom": {
                  "align": null
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                }
              },
              "overrides": []
            },
            "gridPos": {
              "h": 4,
              "w": 4,
              "x": 0,
              "y": 0
            },
            "id": 2,
            "options": {
              "colorMode": "value",
              "graphMode": "none",
              "justifyMode": "auto",
              "orientation": "auto",
              "reduceOptions": {
                "calcs": [
                  "last"
                ],
                "fields": "",
                "values": false
              },
              "textMode": "auto"
            },
            "pluginVersion": "7.3.4",
            "targets": [
              {
                "expr": "sum(node:node_num_cpu:sum)",
                "format": "table",
                "instant": false,
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "",
                "refId": "A"
              }
            ],
            "timeFrom": null,
            "timeShift": null,
            "title": "Total CPU Cores",
            "type": "stat"
          },
          {
            "datasource": "prometheus",
            "fieldConfig": {
              "defaults": {
                "custom": {
                  "align": null
                },
                "decimals": 1,
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    }
                  ]
                },
                "unit": "decbytes"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 4,
              "w": 4,
              "x": 4,
              "y": 0
            },
            "id": 3,
            "options": {
              "colorMode": "value",
              "graphMode": "none",
              "justifyMode": "auto",
              "orientation": "auto",
              "reduceOptions": {
                "calcs": [
                  "last"
                ],
                "fields": "",
                "values": false
              },
              "textMode": "auto"
            },
            "pluginVersion": "7.3.4",
            "targets": [
              {
                "expr": "sum(node_memory_MemTotal_bytes)",
                "format": "table",
                "instant": false,
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "",
                "refId": "A"
              }
            ],
            "timeFrom": null,
            "timeShift": null,
            "title": "Total RAM",
            "type": "stat"
          },
          {
            "aliasColors": {},
            "bars": true,
            "dashLength": 10,
            "dashes": false,
            "datasource": "prometheus",
            "description": "",
            "fieldConfig": {
              "defaults": {
                "custom": {}
              },
              "overrides": []
            },
            "fill": 1,
            "fillGradient": 0,
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 8,
              "y": 0
            },
            "hiddenSeries": false,
            "id": 6,
            "legend": {
              "avg": false,
              "current": false,
              "max": false,
              "min": false,
              "show": true,
              "total": false,
              "values": false
            },
            "lines": false,
            "linewidth": 1,
            "nullPointMode": "null",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.3.4",
            "pointradius": 2,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": true,
            "steppedLine": false,
            "targets": [
              {
                "expr": "node_load5",
                "interval": "",
                "intervalFactor": 10,
                "legendFormat": "{{instance}}",
                "refId": "A"
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "Node Load 5",
            "tooltip": {
              "shared": true,
              "sort": 0,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "none",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": true,
            "dashLength": 10,
            "dashes": false,
            "datasource": "prometheus",
            "fieldConfig": {
              "defaults": {
                "custom": {}
              },
              "overrides": []
            },
            "fill": 1,
            "fillGradient": 0,
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 16,
              "y": 0
            },
            "hiddenSeries": false,
            "id": 5,
            "legend": {
              "avg": false,
              "current": false,
              "max": false,
              "min": false,
              "show": true,
              "total": false,
              "values": false
            },
            "lines": false,
            "linewidth": 1,
            "nullPointMode": "null",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.3.4",
            "pointradius": 2,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": true,
            "steppedLine": false,
            "targets": [
              {
                "expr": "node_filesystem_free_bytes{fstype='ext4'}",
                "interval": "",
                "intervalFactor": 10,
                "legendFormat": "{{instance}}",
                "refId": "A"
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "Filesystem Available",
            "tooltip": {
              "shared": true,
              "sort": 0,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "decbytes",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "datasource": "prometheus",
            "fieldConfig": {
              "defaults": {
                "custom": {
                  "align": null
                },
                "mappings": [
                  {
                    "from": "",
                    "id": 0,
                    "text": "DOWN",
                    "to": "",
                    "type": 1,
                    "value": "0"
                  },
                  {
                    "from": "",
                    "id": 1,
                    "text": "UP",
                    "to": "",
                    "type": 1,
                    "value": "1"
                  }
                ],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "red",
                      "value": null
                    },
                    {
                      "color": "green",
                      "value": 1
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 18,
              "w": 4,
              "x": 0,
              "y": 4
            },
            "id": 9,
            "options": {
              "colorMode": "background",
              "graphMode": "none",
              "justifyMode": "auto",
              "orientation": "horizontal",
              "reduceOptions": {
                "calcs": [
                  "last"
                ],
                "fields": "",
                "values": false
              },
              "textMode": "auto"
            },
            "pluginVersion": "7.3.4",
            "targets": [
              {
                "expr": "node_network_up{device='eth0'}",
                "format": "time_series",
                "instant": false,
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "STATUS",
                "refId": "A"
              }
            ],
            "timeFrom": "30s",
            "timeShift": null,
            "title": "Node Status",
            "transformations": [],
            "type": "stat"
          },
          {
            "datasource": "prometheus",
            "fieldConfig": {
              "defaults": {
                "custom": {
                  "align": null
                },
                "decimals": 1,
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "#EAB839",
                      "value": 42
                    },
                    {
                      "color": "orange",
                      "value": 50
                    },
                    {
                      "color": "red",
                      "value": 55
                    }
                  ]
                },
                "unit": "celsius"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 18,
              "w": 4,
              "x": 4,
              "y": 4
            },
            "id": 10,
            "options": {
              "colorMode": "background",
              "graphMode": "area",
              "justifyMode": "auto",
              "orientation": "horizontal",
              "reduceOptions": {
                "calcs": [
                  "last"
                ],
                "fields": "",
                "values": false
              },
              "textMode": "value"
            },
            "pluginVersion": "7.3.4",
            "targets": [
              {
                "expr": "rpi_cpu_temperature_celsius",
                "format": "time_series",
                "instant": false,
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "{{kubernetes_node}}",
                "refId": "A"
              }
            ],
            "timeFrom": null,
            "timeShift": null,
            "title": "Node Temp",
            "transformations": [],
            "type": "stat"
          },
          {
            "aliasColors": {
              "error": "red",
              "failure": "orange",
              "success": "green"
            },
            "bars": true,
            "dashLength": 10,
            "dashes": false,
            "datasource": "prometheus",
            "description": "",
            "fieldConfig": {
              "defaults": {
                "custom": {}
              },
              "overrides": []
            },
            "fill": 1,
            "fillGradient": 0,
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 8,
              "y": 7
            },
            "hiddenSeries": false,
            "id": 15,
            "legend": {
              "alignAsTable": false,
              "avg": false,
              "current": false,
              "max": false,
              "min": false,
              "rightSide": true,
              "show": true,
              "total": false,
              "values": false
            },
            "lines": false,
            "linewidth": 1,
            "nullPointMode": "null",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.3.4",
            "pointradius": 2,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": true,
            "steppedLine": false,
            "targets": [
              {
                "expr": "sum(rate(kubelet_http_requests_duration_seconds_sum[5m]))",
                "interval": "",
                "intervalFactor": 10,
                "legendFormat": "",
                "refId": "A"
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "HTTP Request Duration",
            "tooltip": {
              "shared": true,
              "sort": 2,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "decimals": null,
                "format": "none",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": true,
            "dashLength": 10,
            "dashes": false,
            "datasource": "prometheus",
            "fieldConfig": {
              "defaults": {
                "custom": {}
              },
              "overrides": []
            },
            "fill": 1,
            "fillGradient": 0,
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 16,
              "y": 7
            },
            "hiddenSeries": false,
            "id": 8,
            "legend": {
              "avg": false,
              "current": false,
              "max": false,
              "min": false,
              "show": true,
              "total": false,
              "values": false
            },
            "lines": false,
            "linewidth": 1,
            "nullPointMode": "null",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.3.4",
            "pointradius": 2,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": true,
            "steppedLine": false,
            "targets": [
              {
                "expr": "node_netstat_Tcp_CurrEstab",
                "interval": "",
                "intervalFactor": 10,
                "legendFormat": "{{instance}}",
                "refId": "A"
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "TCP Established Connections",
            "tooltip": {
              "shared": true,
              "sort": 0,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "decimals": 0,
                "format": "none",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": "0",
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": true,
            "dashLength": 10,
            "dashes": false,
            "datasource": "prometheus",
            "fieldConfig": {
              "defaults": {
                "custom": {}
              },
              "overrides": []
            },
            "fill": 0,
            "fillGradient": 10,
            "gridPos": {
              "h": 8,
              "w": 16,
              "x": 8,
              "y": 14
            },
            "hiddenSeries": false,
            "id": 7,
            "legend": {
              "avg": false,
              "current": false,
              "max": false,
              "min": false,
              "show": false,
              "total": false,
              "values": false
            },
            "lines": false,
            "linewidth": 2,
            "nullPointMode": "null",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.3.4",
            "pointradius": 2,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [
              {
                "alias": "/.*OUT/",
                "transform": "negative-Y"
              },
              {
                "alias": "/pik3s01.*/",
                "color": "#73BF69"
              },
              {
                "alias": "/pik3s02.*/",
                "color": "#FADE2A"
              },
              {
                "alias": "/pik3s03.*/",
                "color": "#8AB8FF"
              },
              {
                "alias": "/pik3s04.*/",
                "color": "#FF9830"
              },
              {
                "alias": "/pik3s05.*/",
                "color": "#F2495C"
              }
            ],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "expr": "sum(rate(node_network_receive_bytes_total[5m]))",
                "format": "time_series",
                "hide": false,
                "instant": false,
                "interval": "",
                "intervalFactor": 5,
                "legendFormat": "IN",
                "refId": "A"
              },
              {
                "expr": "sum(rate(node_network_transmit_bytes_total[5m]))",
                "format": "time_series",
                "instant": false,
                "interval": "",
                "intervalFactor": 5,
                "legendFormat": "OUT",
                "refId": "B"
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "Transmit Rate (In/Out)",
            "tooltip": {
              "shared": true,
              "sort": 0,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "decimals": null,
                "format": "decbytes",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          }
        ],
        "refresh": "1m",
        "schemaVersion": 26,
        "style": "dark",
        "tags": [],
        "templating": {
          "list": []
        },
        "time": {
          "from": "now-24h",
          "to": "now"
        },
        "timepicker": {
          "refresh_intervals": [
            "10s",
            "30s",
            "1m",
            "5m",
            "15m",
            "30m",
            "1h",
            "2h",
            "1d"
          ]
        },
        "timezone": "",
        "title": "Pi k3s Simple Dashboard",
        "uid": "shpaq-04",
        "version": 1
      }
